var TuneZ=(()=>{var va="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;"undefined"!==typeof __filename&&(va=va||__filename);return function(ma){function Tb(a){return g.locateFile?g.locateFile(a,T):T+a}function ha(a,b,c){var d=b+c;for(c=b;a[c]&&!(c>=d);)++c;if(16<c-b&&a.buffer&&db)return db.decode(a.subarray(b,c));for(d="";b<c;){var f=a[b++];if(f&128){var h=a[b++]&63;if(192==(f&224))d+=String.fromCharCode((f&31)<<6|h);else{var l=a[b++]&63;f=224==(f&240)?(f&15)<<
12|h<<6|l:(f&7)<<18|h<<12|l<<6|a[b++]&63;65536>f?d+=String.fromCharCode(f):(f-=65536,d+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else d+=String.fromCharCode(f)}return d}function R(a,b){return a?ha(G,a,b):""}function W(a,b,c,d){if(!(0<d))return 0;var f=c;d=c+d-1;for(var h=0;h<a.length;++h){var l=a.charCodeAt(h);if(55296<=l&&57343>=l){var r=a.charCodeAt(++h);l=65536+((l&1023)<<10)|r&1023}if(127>=l){if(c>=d)break;b[c++]=l}else{if(2047>=l){if(c+1>=d)break;b[c++]=192|l>>6}else{if(65535>=l){if(c+
2>=d)break;b[c++]=224|l>>12}else{if(c+3>=d)break;b[c++]=240|l>>18;b[c++]=128|l>>12&63}b[c++]=128|l>>6&63}b[c++]=128|l&63}}b[c]=0;return c-f}function na(a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);127>=d?b++:2047>=d?b+=2:55296<=d&&57343>=d?(b+=4,++c):b+=3}return b}function eb(a){wa=a;g.HEAP8=I=new Int8Array(a);g.HEAP16=Z=new Int16Array(a);g.HEAP32=v=new Int32Array(a);g.HEAPU8=G=new Uint8Array(a);g.HEAPU16=oa=new Uint16Array(a);g.HEAPU32=F=new Uint32Array(a);g.HEAPF32=da=new Float32Array(a);
g.HEAPF64=xa=new Float64Array(a)}function ya(a){ea++;g.monitorRunDependencies&&g.monitorRunDependencies(ea)}function pa(a){ea--;g.monitorRunDependencies&&g.monitorRunDependencies(ea);0==ea&&(null!==Qa&&(clearInterval(Qa),Qa=null),qa&&(a=qa,qa=null,a()))}function M(a){if(g.onAbort)g.onAbort(a);a="Aborted("+a+")";L(a);X=!0;za=1;a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.");Ra(a);throw a;}function fb(a){try{if(a==P&&ra)return new Uint8Array(ra);if(Sa)return Sa(a);throw"both async and sync fetching of the wasm failed";
}catch(b){M(b)}}function Ub(){if(!ra&&(gb||fa)){if("function"==typeof fetch&&!P.startsWith("file://"))return fetch(P,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+P+"'";return a.arrayBuffer()}).catch(function(){return fb(P)});if(Aa)return new Promise(function(a,b){Aa(P,function(c){a(new Uint8Array(c))},b)})}return Promise.resolve().then(function(){return fb(P)})}function Ba(a){this.name="ExitStatus";this.message="Program terminated with exit("+
a+")";this.status=a}function Ca(a){for(;0<a.length;)a.shift()(g)}function hb(a){if(a instanceof Ba||"unwind"==a)return za;Da(1,a)}function Vb(a){this.excPtr=a;this.ptr=a-24;this.set_type=function(b){F[this.ptr+4>>2]=b};this.get_type=function(){return F[this.ptr+4>>2]};this.set_destructor=function(b){F[this.ptr+8>>2]=b};this.get_destructor=function(){return F[this.ptr+8>>2]};this.set_refcount=function(b){v[this.ptr>>2]=b};this.set_caught=function(b){I[this.ptr+12>>0]=b?1:0};this.get_caught=function(){return 0!=
I[this.ptr+12>>0]};this.set_rethrown=function(b){I[this.ptr+13>>0]=b?1:0};this.get_rethrown=function(){return 0!=I[this.ptr+13>>0]};this.init=function(b,c){this.set_adjusted_ptr(0);this.set_type(b);this.set_destructor(c);this.set_refcount(0);this.set_caught(!1);this.set_rethrown(!1)};this.add_ref=function(){v[this.ptr>>2]+=1};this.release_ref=function(){var b=v[this.ptr>>2];v[this.ptr>>2]=b-1;return 1===b};this.set_adjusted_ptr=function(b){F[this.ptr+16>>2]=b};this.get_adjusted_ptr=function(){return F[this.ptr+
16>>2]};this.get_exception_ptr=function(){if(ib(this.get_type()))return F[this.excPtr>>2];var b=this.get_adjusted_ptr();return 0!==b?b:this.excPtr}}function jb(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var a=new Uint8Array(1);return()=>{crypto.getRandomValues(a);return a[0]}}if(ia)try{var b=require("crypto");return()=>b.randomBytes(1)[0]}catch(c){}return()=>M("randomDevice")}function Ea(a,b,c){c=0<c?c:na(a)+1;c=Array(c);a=W(a,c,0,c.length);b&&(c.length=a);return c}function Wb(a,
b,c,d){var f=d?"":"al "+a;Aa(a,h=>{h||M('Loading data file "'+a+'" failed (no arrayBuffer).');b(new Uint8Array(h));f&&pa(f)},h=>{if(c)c();else throw'Loading data file "'+a+'" failed.';});f&&ya(f)}function Ta(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+a);}}function aa(a){for(var b="";G[a];)b+=kb[G[a++]];return b}function Xb(a,b){if(void 0===a)a="_unknown";else{a=a.replace(/[^a-zA-Z0-9_]/g,"$");var c=a.charCodeAt(0);
a=48<=c&&57>=c?"_"+a:a}return(new Function("body","return function "+a+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n'))(b)}function lb(a,b){var c=Xb(b,function(d){this.name=b;this.message=d;d=Error(d).stack;void 0!==d&&(this.stack=this.toString()+"\n"+d.replace(/^Error(:[^\n]*)?\n/,""))});c.prototype=Object.create(a.prototype);c.prototype.constructor=c;c.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message};return c}function ja(a){throw new mb(a);
}function ba(a,b,c={}){if(!("argPackAdvance"in b))throw new TypeError("registerType registeredInstance requires argPackAdvance");var d=b.name;a||ja('type "'+d+'" must have a positive integer typeid pointer');if(nb.hasOwnProperty(a)){if(c.ignoreDuplicateRegistrations)return;ja("Cannot register type '"+d+"' twice")}nb[a]=b;delete Yb[a];Ua.hasOwnProperty(a)&&(b=Ua[a],delete Ua[a],b.forEach(f=>f()))}function Va(a){return this.fromWireType(v[a>>2])}function Zb(a,b){switch(b){case 2:return function(c){return this.fromWireType(da[c>>
2])};case 3:return function(c){return this.fromWireType(xa[c>>3])};default:throw new TypeError("Unknown float type: "+a);}}function $b(a,b,c){switch(b){case 0:return c?function(d){return I[d]}:function(d){return G[d]};case 1:return c?function(d){return Z[d>>1]}:function(d){return oa[d>>1]};case 2:return c?function(d){return v[d>>2]}:function(d){return F[d>>2]};default:throw new TypeError("Unknown integer type: "+a);}}function ac(a,b){var c=a>>1;for(var d=c+b/2;!(c>=d)&&oa[c];)++c;c<<=1;if(32<c-a&&
ob)return ob.decode(G.subarray(a,c));c="";for(d=0;!(d>=b/2);++d){var f=Z[a+2*d>>1];if(0==f)break;c+=String.fromCharCode(f)}return c}function bc(a,b,c){void 0===c&&(c=2147483647);if(2>c)return 0;c-=2;var d=b;c=c<2*a.length?c/2:a.length;for(var f=0;f<c;++f){var h=a.charCodeAt(f);Z[b>>1]=h;b+=2}Z[b>>1]=0;return b-d}function cc(a){return 2*a.length}function dc(a,b){for(var c=0,d="";!(c>=b/4);){var f=v[a+4*c>>2];if(0==f)break;++c;65536<=f?(f-=65536,d+=String.fromCharCode(55296|f>>10,56320|f&1023)):d+=
String.fromCharCode(f)}return d}function ec(a,b,c){void 0===c&&(c=2147483647);if(4>c)return 0;var d=b;c=d+c-4;for(var f=0;f<a.length;++f){var h=a.charCodeAt(f);if(55296<=h&&57343>=h){var l=a.charCodeAt(++f);h=65536+((h&1023)<<10)|l&1023}v[b>>2]=h;b+=4;if(b+4>c)break}v[b>>2]=0;return b-d}function fc(a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=d&&++c;b+=4}return b}function Wa(a,b){m.mainLoop.timingMode=a;m.mainLoop.timingValue=b;if(!m.mainLoop.func)return 1;m.mainLoop.running||
(m.mainLoop.running=!0);if(0==a)m.mainLoop.scheduler=function(){var d=Math.max(0,m.mainLoop.tickStartTime+b-Xa())|0;setTimeout(m.mainLoop.runner,d)},m.mainLoop.method="timeout";else if(1==a)m.mainLoop.scheduler=function(){m.requestAnimationFrame(m.mainLoop.runner)},m.mainLoop.method="rAF";else if(2==a){if("undefined"==typeof setImmediate){var c=[];addEventListener("message",d=>{if("setimmediate"===d.data||"setimmediate"===d.data.target)d.stopPropagation(),c.shift()()},!0);setImmediate=function(d){c.push(d);
fa?(void 0===g.setImmediates&&(g.setImmediates=[]),g.setImmediates.push(d),postMessage({target:"setimmediate"})):postMessage("setimmediate","*")}}m.mainLoop.scheduler=function(){setImmediate(m.mainLoop.runner)};m.mainLoop.method="immediate"}return 0}function pb(a,b,c,d,f){m.mainLoop.func&&M("emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.");m.mainLoop.func=a;
m.mainLoop.arg=d;var h=m.mainLoop.currentlyRunningMainloop;m.mainLoop.running=!1;m.mainLoop.runner=function(){if(!X)if(0<m.mainLoop.queue.length){var l=Date.now(),r=m.mainLoop.queue.shift();r.func(r.arg);if(m.mainLoop.remainingBlockers){var u=m.mainLoop.remainingBlockers,p=0==u%1?u-1:Math.floor(u);m.mainLoop.remainingBlockers=r.counted?p:(8*u+(p+.5))/9}N('main loop blocker "'+r.name+'" took '+(Date.now()-l)+" ms");m.mainLoop.updateStatus();h<m.mainLoop.currentlyRunningMainloop||setTimeout(m.mainLoop.runner,
0)}else h<m.mainLoop.currentlyRunningMainloop||(m.mainLoop.currentFrameNumber=m.mainLoop.currentFrameNumber+1|0,1==m.mainLoop.timingMode&&1<m.mainLoop.timingValue&&0!=m.mainLoop.currentFrameNumber%m.mainLoop.timingValue?m.mainLoop.scheduler():(0==m.mainLoop.timingMode&&(m.mainLoop.tickStartTime=Xa()),q.newRenderingFrameStarted(),m.mainLoop.runIter(a),h<m.mainLoop.currentlyRunningMainloop||("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),m.mainLoop.scheduler())))};
f||(b&&0<b?Wa(0,1E3/b):Wa(1,1),m.mainLoop.scheduler());if(c)throw"unwind";}function ka(a){if(!X)try{a()}catch(b){hb(b)}}function qb(a,b){return setTimeout(function(){ka(a)},b)}function sa(a){sa.shown||(sa.shown={});sa.shown[a]||(sa.shown[a]=1,ia&&(a="warning: "+a),L(a))}function ta(){if(!ta.strings){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ya||"./this.program"},
b;for(b in Za)void 0===Za[b]?delete a[b]:a[b]=Za[b];var c=[];for(b in a)c.push(b+"="+a[b]);ta.strings=c}return ta.strings}function Fa(a,b){Fa.randomDevice||(Fa.randomDevice=jb());for(var c=0;c<b;c++)I[a+c>>0]=Fa.randomDevice();return 0}function Ga(a,b,c,d){for(var f=0;f<a;f++){var h=t[c](),l=h&&q.getNewId(d);h?(h.name=l,d[l]=h):q.recordError(1282);v[b+4*f>>2]=l}}function gc(a,b,c){if(b){var d=void 0;switch(a){case 36346:d=1;break;case 36344:0!=c&&1!=c&&q.recordError(1280);return;case 34814:case 36345:d=
0;break;case 34466:var f=t.getParameter(34467);d=f?f.length:0;break;case 33309:if(2>q.currentContext.version){q.recordError(1282);return}d=2*(t.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>q.currentContext.version){q.recordError(1280);return}d=33307==a?3:0}if(void 0===d)switch(f=t.getParameter(a),typeof f){case "number":d=f;break;case "boolean":d=f?1:0;break;case "string":q.recordError(1280);return;case "object":if(null===f)switch(a){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:d=
0;break;default:q.recordError(1280);return}else{if(f instanceof Float32Array||f instanceof Uint32Array||f instanceof Int32Array||f instanceof Array){for(a=0;a<f.length;++a)switch(c){case 0:v[b+4*a>>2]=f[a];break;case 2:da[b+4*a>>2]=f[a];break;case 4:I[b+a>>0]=f[a]?1:0}return}try{d=f.name|0}catch(h){q.recordError(1280);L("GL_INVALID_ENUM in glGet"+c+"v: Unknown object returned from WebGL getParameter("+a+")! (error: "+h+")");return}}break;default:q.recordError(1280);L("GL_INVALID_ENUM in glGet"+c+
"v: Native code calling glGet"+c+"v("+a+") and it returns "+f+" of type "+typeof f+"!");return}switch(c){case 1:c=d;F[b>>2]=c;F[b+4>>2]=(c-F[b>>2])/4294967296;break;case 0:v[b>>2]=d;break;case 2:da[b>>2]=d;break;case 4:I[b>>0]=d?1:0}}else q.recordError(1281)}function Ha(a){var b=na(a)+1,c=U(b);W(a,G,c,b);return c}function rb(a){return"]"==a.slice(-1)&&a.lastIndexOf("[")}function Ia(a){var b=t.currentProgram;if(b){var c=b.uniformLocsById[a];"number"==typeof c&&(b.uniformLocsById[a]=c=t.getUniformLocation(b,
b.uniformArrayNamesById[a]+(0<c?"["+c+"]":"")));return c}q.recordError(1282)}function hc(a,b,c,d,f,h){this.id=a;this.y=this.x=0;this.fullscreen=!1;this.storedY=this.storedX=0;this.width=b;this.height=c;this.storedWidth=b;this.storedHeight=c;this.title=d;this.monitor=f;this.share=h;this.attributes=k.hints;this.inputModes={208897:212993,208898:0,208899:0};this.buttons=0;this.keys=[];this.domKeys=[];this.shouldClose=0;this.userptr=this.charFunc=this.keyFunc=this.dropFunc=this.scrollFunc=this.cursorEnterFunc=
this.cursorPosFunc=this.mouseButtonFunc=this.framebufferSizeFunc=this.windowIconifyFunc=this.windowFocusFunc=this.windowRefreshFunc=this.windowCloseFunc=this.windowSizeFunc=this.windowPosFunc=this.title=null}function sb(a){var b=na(a)+1,c=U(b);c&&W(a,I,c,b);return c}function Ja(a){return 0===a%4&&(0!==a%100||0===a%400)}function ic(a,b,c,d){function f(n,y,E){for(n="number"==typeof n?n.toString():n||"";n.length<y;)n=E[0]+n;return n}function h(n,y){return f(n,y,"0")}function l(n,y){function E(S){return 0>
S?-1:0<S?1:0}var H;0===(H=E(n.getFullYear()-y.getFullYear()))&&0===(H=E(n.getMonth()-y.getMonth()))&&(H=E(n.getDate()-y.getDate()));return H}function r(n){switch(n.getDay()){case 0:return new Date(n.getFullYear()-1,11,29);case 1:return n;case 2:return new Date(n.getFullYear(),0,3);case 3:return new Date(n.getFullYear(),0,2);case 4:return new Date(n.getFullYear(),0,1);case 5:return new Date(n.getFullYear()-1,11,31);case 6:return new Date(n.getFullYear()-1,11,30)}}function u(n){a:{var y=n.tm_yday;for(n=
new Date((new Date(n.tm_year+1900,0,1)).getTime());0<y;){var E=Ja(n.getFullYear()),H=n.getMonth();E=(E?tb:ub)[H];if(y>E-n.getDate())y-=E-n.getDate()+1,n.setDate(1),11>H?n.setMonth(H+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1));else{n.setDate(n.getDate()+y);y=n;break a}}y=n}H=new Date(y.getFullYear(),0,4);n=new Date(y.getFullYear()+1,0,4);H=r(H);n=r(n);return 0>=l(H,y)?0>=l(n,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}var p=v[d+40>>2];d={tm_sec:v[d>>2],tm_min:v[d+4>>2],tm_hour:v[d+
8>>2],tm_mday:v[d+12>>2],tm_mon:v[d+16>>2],tm_year:v[d+20>>2],tm_wday:v[d+24>>2],tm_yday:v[d+28>>2],tm_isdst:v[d+32>>2],tm_gmtoff:v[d+36>>2],tm_zone:p?R(p):""};c=R(c);p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V",
"%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var w in p)c=c.replace(new RegExp(w,"g"),p[w]);var x="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),A="January February March April May June July August September October November December".split(" ");p={"%a":function(n){return x[n.tm_wday].substring(0,3)},"%A":function(n){return x[n.tm_wday]},"%b":function(n){return A[n.tm_mon].substring(0,3)},"%B":function(n){return A[n.tm_mon]},"%C":function(n){return h((n.tm_year+1900)/100|0,2)},"%d":function(n){return h(n.tm_mday,
2)},"%e":function(n){return f(n.tm_mday,2," ")},"%g":function(n){return u(n).toString().substring(2)},"%G":function(n){return u(n)},"%H":function(n){return h(n.tm_hour,2)},"%I":function(n){n=n.tm_hour;0==n?n=12:12<n&&(n-=12);return h(n,2)},"%j":function(n){for(var y=n.tm_mday,E=Ja(n.tm_year+1900)?tb:ub,H=0,S=0;S<=n.tm_mon-1;H+=E[S++]);return h(y+H,3)},"%m":function(n){return h(n.tm_mon+1,2)},"%M":function(n){return h(n.tm_min,2)},"%n":function(){return"\n"},"%p":function(n){return 0<=n.tm_hour&&12>
n.tm_hour?"AM":"PM"},"%S":function(n){return h(n.tm_sec,2)},"%t":function(){return"\t"},"%u":function(n){return n.tm_wday||7},"%U":function(n){return h(Math.floor((n.tm_yday+7-n.tm_wday)/7),2)},"%V":function(n){var y=Math.floor((n.tm_yday+7-(n.tm_wday+6)%7)/7);2>=(n.tm_wday+371-n.tm_yday-2)%7&&y++;if(y)53==y&&(E=(n.tm_wday+371-n.tm_yday)%7,4==E||3==E&&Ja(n.tm_year)||(y=1));else{y=52;var E=(n.tm_wday+7-n.tm_yday-1)%7;(4==E||5==E&&Ja(n.tm_year%400-1))&&y++}return h(y,2)},"%w":function(n){return n.tm_wday},
"%W":function(n){return h(Math.floor((n.tm_yday+7-(n.tm_wday+6)%7)/7),2)},"%y":function(n){return(n.tm_year+1900).toString().substring(2)},"%Y":function(n){return n.tm_year+1900},"%z":function(n){n=n.tm_gmtoff;var y=0<=n;n=Math.abs(n)/60;return(y?"+":"-")+String("0000"+(n/60*100+n%60)).slice(-4)},"%Z":function(n){return n.tm_zone},"%%":function(){return"%"}};c=c.replace(/%%/g,"\x00\x00");for(w in p)c.includes(w)&&(c=c.replace(new RegExp(w,"g"),p[w](d)));c=c.replace(/\0\0/g,"%");w=Ea(c,!1);if(w.length>
b)return 0;I.set(w,a);return w.length-1}function vb(a,b,c,d,f){function h(x){0!==u&&wb(u);x="string"===b?R(x):"boolean"===b?!!x:x;return x}var l={string:x=>{var A=0;if(null!==x&&void 0!==x&&0!==x){var n=(x.length<<2)+1;A=$a(n);W(x,G,A,n)}return A},array:x=>{var A=$a(x.length);I.set(x,A);return A}};a=g["_"+a];var r=[],u=0;if(d)for(var p=0;p<d.length;p++){var w=l[c[p]];w?(0===u&&(u=xb()),r[p]=w(d[p])):r[p]=d[p]}c=z.currData;d=a.apply(null,r);f=f&&f.async;if(z.currData!=c)return z.whenDone().then(h);
d=h(d);return f?Promise.resolve(d):d}function Ka(a){try{return a()}catch(b){M(b)}}function yb(a){function b(){if(!La&&(La=!0,g.calledRun=!0,!X)){g.noFSInit||e.init.initialized||e.init();e.ignorePermissions=!1;ca.init();Ca(zb);Ca(jc);Ab(g);if(g.onRuntimeInitialized)g.onRuntimeInitialized();if(Bb){var c=g._main;try{var d=c(0,0);za=za=d;if(!Cb){if(g.onExit)g.onExit(d);X=!0}Da(d,new Ba(d))}catch(f){hb(f)}}if(g.postRun)for("function"==typeof g.postRun&&(g.postRun=[g.postRun]);g.postRun.length;)Db.unshift(g.postRun.shift());
Ca(Db)}}if(!(0<ea)){if(g.preRun)for("function"==typeof g.preRun&&(g.preRun=[g.preRun]);g.preRun.length;)Eb.unshift(g.preRun.shift());Ca(Eb);0<ea||(g.setStatus?(g.setStatus("Running..."),setTimeout(function(){setTimeout(function(){g.setStatus("")},1);b()},1)):b())}}ma=ma||{};var g="undefined"!=typeof ma?ma:{},Ab,Ra;g.ready=new Promise(function(a,b){Ab=a;Ra=b});var Fb=Object.assign({},g),Ya="./this.program",Da=(a,b)=>{throw b;},gb="object"==typeof window,fa="function"==typeof importScripts,ia="object"==
typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,T="",Ma,Na;if(ia){T=fa?require("path").dirname(T)+"/":__dirname+"/";var Gb=()=>{Na||(Ma=require("fs"),Na=require("path"))};var Oa=function(a,b){Gb();a=Na.normalize(a);return Ma.readFileSync(a,b?void 0:"utf8")};var Sa=a=>{a=Oa(a,!0);a.buffer||(a=new Uint8Array(a));return a};var Aa=(a,b,c)=>{Gb();a=Na.normalize(a);Ma.readFile(a,function(d,f){d?c(d):b(f.buffer)})};1<process.argv.length&&(Ya=process.argv[1].replace(/\\/g,
"/"));process.argv.slice(2);process.on("uncaughtException",function(a){if(!(a instanceof Ba))throw a;});process.on("unhandledRejection",function(a){throw a;});Da=(a,b)=>{if(Cb)throw process.exitCode=a,b;b instanceof Ba||L("exiting due to exception: "+b);process.exit(a)};g.inspect=function(){return"[Emscripten Module object]"}}else if(gb||fa)fa?T=self.location.href:"undefined"!=typeof document&&document.currentScript&&(T=document.currentScript.src),va&&(T=va),T=0!==T.indexOf("blob:")?T.substr(0,T.replace(/[?#].*/,
"").lastIndexOf("/")+1):"",Oa=a=>{var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText},fa&&(Sa=a=>{var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),Aa=(a,b,c)=>{var d=new XMLHttpRequest;d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=()=>{200==d.status||0==d.status&&d.response?b(d.response):c()};d.onerror=c;d.send(null)};var N=g.print||console.log.bind(console),L=g.printErr||console.warn.bind(console);
Object.assign(g,Fb);Fb=null;g.thisProgram&&(Ya=g.thisProgram);g.quit&&(Da=g.quit);var ra;g.wasmBinary&&(ra=g.wasmBinary);var Cb=g.noExitRuntime||!0;"object"!=typeof WebAssembly&&M("no native wasm support detected");var Pa,X=!1,za,db="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,wa,I,G,Z,oa,v,F,da,xa,Eb=[],zb=[],jc=[],Db=[],ea=0,Qa=null,qa=null;var P="TuneZW.wasm";P.startsWith("data:application/octet-stream;base64,")||(P=Tb(P));var C,K,kc=0,D={isAbs:a=>"/"===a.charAt(0),splitPath:a=>
/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1),normalizeArray:(a,b)=>{for(var c=0,d=a.length-1;0<=d;d--){var f=a[d];"."===f?a.splice(d,1):".."===f?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a},normalize:a=>{var b=D.isAbs(a),c="/"===a.substr(-1);(a=D.normalizeArray(a.split("/").filter(d=>!!d),!b).join("/"))||b||(a=".");a&&c&&(a+="/");return(b?"/":"")+a},dirname:a=>{var b=D.splitPath(a);a=b[0];b=b[1];if(!a&&!b)return".";b&&=b.substr(0,
b.length-1);return a+b},basename:a=>{if("/"===a)return"/";a=D.normalize(a);a=a.replace(/\/$/,"");var b=a.lastIndexOf("/");return-1===b?a:a.substr(b+1)},join:function(){var a=Array.prototype.slice.call(arguments,0);return D.normalize(a.join("/"))},join2:(a,b)=>D.normalize(a+"/"+b)},Y={resolve:function(){for(var a="",b=!1,c=arguments.length-1;-1<=c&&!b;c--){b=0<=c?arguments[c]:e.cwd();if("string"!=typeof b)throw new TypeError("Arguments to path.resolve must be strings");if(!b)return"";a=b+"/"+a;b=D.isAbs(b)}a=
D.normalizeArray(a.split("/").filter(d=>!!d),!b).join("/");return(b?"/":"")+a||"."},relative:(a,b)=>{function c(l){for(var r=0;r<l.length&&""===l[r];r++);for(var u=l.length-1;0<=u&&""===l[u];u--);return r>u?[]:l.slice(r,u-r+1)}a=Y.resolve(a).substr(1);b=Y.resolve(b).substr(1);a=c(a.split("/"));b=c(b.split("/"));for(var d=Math.min(a.length,b.length),f=d,h=0;h<d;h++)if(a[h]!==b[h]){f=h;break}d=[];for(h=f;h<a.length;h++)d.push("..");d=d.concat(b.slice(f));return d.join("/")}},ca={ttys:[],init:function(){},
shutdown:function(){},register:function(a,b){ca.ttys[a]={input:[],output:[],ops:b};e.registerDevice(a,ca.stream_ops)},stream_ops:{open:function(a){var b=ca.ttys[a.node.rdev];if(!b)throw new e.ErrnoError(43);a.tty=b;a.seekable=!1},close:function(a){a.tty.ops.flush(a.tty)},flush:function(a){a.tty.ops.flush(a.tty)},read:function(a,b,c,d,f){if(!a.tty||!a.tty.ops.get_char)throw new e.ErrnoError(60);for(var h=f=0;h<d;h++){try{var l=a.tty.ops.get_char(a.tty)}catch(r){throw new e.ErrnoError(29);}if(void 0===
l&&0===f)throw new e.ErrnoError(6);if(null===l||void 0===l)break;f++;b[c+h]=l}f&&(a.node.timestamp=Date.now());return f},write:function(a,b,c,d,f){if(!a.tty||!a.tty.ops.put_char)throw new e.ErrnoError(60);try{for(f=0;f<d;f++)a.tty.ops.put_char(a.tty,b[c+f])}catch(h){throw new e.ErrnoError(29);}d&&(a.node.timestamp=Date.now());return f}},default_tty_ops:{get_char:function(a){if(!a.input.length){var b=null;if(ia){b=Buffer.alloc(256);var c=0;try{c=Ma.readSync(process.stdin.fd,b,0,256,-1)}catch(d){if(d.toString().includes("EOF"))c=
0;else throw d;}b=0<c?b.slice(0,c).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?(b=window.prompt("Input: "),null!==b&&(b+="\n")):"function"==typeof readline&&(b=readline(),null!==b&&(b+="\n"));if(!b)return null;a.input=Ea(b,!0)}return a.input.shift()},put_char:function(a,b){null===b||10===b?(N(ha(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&0<a.output.length&&(N(ha(a.output,0)),a.output=[])}},default_tty1_ops:{put_char:function(a,
b){null===b||10===b?(L(ha(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&0<a.output.length&&(L(ha(a.output,0)),a.output=[])}}},B={ops_table:null,mount:function(a){return B.createNode(null,"/",16895,0)},createNode:function(a,b,c,d){if(e.isBlkdev(c)||e.isFIFO(c))throw new e.ErrnoError(63);B.ops_table||(B.ops_table={dir:{node:{getattr:B.node_ops.getattr,setattr:B.node_ops.setattr,lookup:B.node_ops.lookup,mknod:B.node_ops.mknod,rename:B.node_ops.rename,unlink:B.node_ops.unlink,
rmdir:B.node_ops.rmdir,readdir:B.node_ops.readdir,symlink:B.node_ops.symlink},stream:{llseek:B.stream_ops.llseek}},file:{node:{getattr:B.node_ops.getattr,setattr:B.node_ops.setattr},stream:{llseek:B.stream_ops.llseek,read:B.stream_ops.read,write:B.stream_ops.write,allocate:B.stream_ops.allocate,mmap:B.stream_ops.mmap,msync:B.stream_ops.msync}},link:{node:{getattr:B.node_ops.getattr,setattr:B.node_ops.setattr,readlink:B.node_ops.readlink},stream:{}},chrdev:{node:{getattr:B.node_ops.getattr,setattr:B.node_ops.setattr},
stream:e.chrdev_stream_ops}});c=e.createNode(a,b,c,d);e.isDir(c.mode)?(c.node_ops=B.ops_table.dir.node,c.stream_ops=B.ops_table.dir.stream,c.contents={}):e.isFile(c.mode)?(c.node_ops=B.ops_table.file.node,c.stream_ops=B.ops_table.file.stream,c.usedBytes=0,c.contents=null):e.isLink(c.mode)?(c.node_ops=B.ops_table.link.node,c.stream_ops=B.ops_table.link.stream):e.isChrdev(c.mode)&&(c.node_ops=B.ops_table.chrdev.node,c.stream_ops=B.ops_table.chrdev.stream);c.timestamp=Date.now();a&&(a.contents[b]=c,
a.timestamp=c.timestamp);return c},getFileDataAsTypedArray:function(a){return a.contents?a.contents.subarray?a.contents.subarray(0,a.usedBytes):new Uint8Array(a.contents):new Uint8Array(0)},expandFileStorage:function(a,b){var c=a.contents?a.contents.length:0;c>=b||(b=Math.max(b,c*(1048576>c?2:1.125)>>>0),0!=c&&(b=Math.max(b,256)),c=a.contents,a.contents=new Uint8Array(b),0<a.usedBytes&&a.contents.set(c.subarray(0,a.usedBytes),0))},resizeFileStorage:function(a,b){if(a.usedBytes!=b)if(0==b)a.contents=
null,a.usedBytes=0;else{var c=a.contents;a.contents=new Uint8Array(b);c&&a.contents.set(c.subarray(0,Math.min(b,a.usedBytes)));a.usedBytes=b}},node_ops:{getattr:function(a){var b={};b.dev=e.isChrdev(a.mode)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;e.isDir(a.mode)?b.size=4096:e.isFile(a.mode)?b.size=a.usedBytes:e.isLink(a.mode)?b.size=a.link.length:b.size=0;b.atime=new Date(a.timestamp);b.mtime=new Date(a.timestamp);b.ctime=new Date(a.timestamp);b.blksize=4096;b.blocks=
Math.ceil(b.size/b.blksize);return b},setattr:function(a,b){void 0!==b.mode&&(a.mode=b.mode);void 0!==b.timestamp&&(a.timestamp=b.timestamp);void 0!==b.size&&B.resizeFileStorage(a,b.size)},lookup:function(a,b){throw e.genericErrors[44];},mknod:function(a,b,c,d){return B.createNode(a,b,c,d)},rename:function(a,b,c){if(e.isDir(a.mode)){try{var d=e.lookupNode(b,c)}catch(h){}if(d)for(var f in d.contents)throw new e.ErrnoError(55);}delete a.parent.contents[a.name];a.parent.timestamp=Date.now();a.name=c;
b.contents[c]=a;b.timestamp=a.parent.timestamp;a.parent=b},unlink:function(a,b){delete a.contents[b];a.timestamp=Date.now()},rmdir:function(a,b){var c=e.lookupNode(a,b),d;for(d in c.contents)throw new e.ErrnoError(55);delete a.contents[b];a.timestamp=Date.now()},readdir:function(a){var b=[".",".."],c;for(c in a.contents)a.contents.hasOwnProperty(c)&&b.push(c);return b},symlink:function(a,b,c){a=B.createNode(a,b,41471,0);a.link=c;return a},readlink:function(a){if(!e.isLink(a.mode))throw new e.ErrnoError(28);
return a.link}},stream_ops:{read:function(a,b,c,d,f){var h=a.node.contents;if(f>=a.node.usedBytes)return 0;a=Math.min(a.node.usedBytes-f,d);if(8<a&&h.subarray)b.set(h.subarray(f,f+a),c);else for(d=0;d<a;d++)b[c+d]=h[f+d];return a},write:function(a,b,c,d,f,h){b.buffer===I.buffer&&(h=!1);if(!d)return 0;a=a.node;a.timestamp=Date.now();if(b.subarray&&(!a.contents||a.contents.subarray)){if(h)return a.contents=b.subarray(c,c+d),a.usedBytes=d;if(0===a.usedBytes&&0===f)return a.contents=b.slice(c,c+d),a.usedBytes=
d;if(f+d<=a.usedBytes)return a.contents.set(b.subarray(c,c+d),f),d}B.expandFileStorage(a,f+d);if(a.contents.subarray&&b.subarray)a.contents.set(b.subarray(c,c+d),f);else for(h=0;h<d;h++)a.contents[f+h]=b[c+h];a.usedBytes=Math.max(a.usedBytes,f+d);return d},llseek:function(a,b,c){1===c?b+=a.position:2===c&&e.isFile(a.node.mode)&&(b+=a.node.usedBytes);if(0>b)throw new e.ErrnoError(28);return b},allocate:function(a,b,c){B.expandFileStorage(a.node,b+c);a.node.usedBytes=Math.max(a.node.usedBytes,b+c)},
mmap:function(a,b,c,d,f){if(!e.isFile(a.node.mode))throw new e.ErrnoError(43);a=a.node.contents;if(f&2||a.buffer!==wa){if(0<c||c+b<a.length)a=a.subarray?a.subarray(c,c+b):Array.prototype.slice.call(a,c,c+b);c=!0;M();b=void 0;if(!b)throw new e.ErrnoError(48);I.set(a,b)}else c=!1,b=a.byteOffset;return{ptr:b,allocated:c}},msync:function(a,b,c,d,f){if(!e.isFile(a.node.mode))throw new e.ErrnoError(43);if(f&2)return 0;B.stream_ops.write(a,b,0,d,c,!1);return 0}}},e={root:null,mounts:[],devices:{},streams:[],
nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(a,b={})=>{a=Y.resolve(e.cwd(),a);if(!a)return{path:"",node:null};b=Object.assign({follow_mount:!0,recurse_count:0},b);if(8<b.recurse_count)throw new e.ErrnoError(32);a=D.normalizeArray(a.split("/").filter(l=>!!l),!1);for(var c=e.root,d="/",f=0;f<a.length;f++){var h=f===a.length-1;if(h&&b.parent)break;c=e.lookupNode(c,a[f]);d=D.join2(d,a[f]);
e.isMountpoint(c)&&(!h||h&&b.follow_mount)&&(c=c.mounted.root);if(!h||b.follow)for(h=0;e.isLink(c.mode);)if(c=e.readlink(d),d=Y.resolve(D.dirname(d),c),c=e.lookupPath(d,{recurse_count:b.recurse_count+1}).node,40<h++)throw new e.ErrnoError(32);}return{path:d,node:c}},getPath:a=>{for(var b;;){if(e.isRoot(a))return a=a.mount.mountpoint,b?"/"!==a[a.length-1]?a+"/"+b:a+b:a;b=b?a.name+"/"+b:a.name;a=a.parent}},hashName:(a,b)=>{for(var c=0,d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%
e.nameTable.length},hashAddNode:a=>{var b=e.hashName(a.parent.id,a.name);a.name_next=e.nameTable[b];e.nameTable[b]=a},hashRemoveNode:a=>{var b=e.hashName(a.parent.id,a.name);if(e.nameTable[b]===a)e.nameTable[b]=a.name_next;else for(b=e.nameTable[b];b;){if(b.name_next===a){b.name_next=a.name_next;break}b=b.name_next}},lookupNode:(a,b)=>{var c=e.mayLookup(a);if(c)throw new e.ErrnoError(c,a);c=e.hashName(a.id,b);for(c=e.nameTable[c];c;c=c.name_next){var d=c.name;if(c.parent.id===a.id&&d===b)return c}return e.lookup(a,
b)},createNode:(a,b,c,d)=>{a=new e.FSNode(a,b,c,d);e.hashAddNode(a);return a},destroyNode:a=>{e.hashRemoveNode(a)},isRoot:a=>a===a.parent,isMountpoint:a=>!!a.mounted,isFile:a=>32768===(a&61440),isDir:a=>16384===(a&61440),isLink:a=>40960===(a&61440),isChrdev:a=>8192===(a&61440),isBlkdev:a=>24576===(a&61440),isFIFO:a=>4096===(a&61440),isSocket:a=>49152===(a&49152),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:a=>{var b=e.flagModes[a];if("undefined"==typeof b)throw Error("Unknown file open mode: "+
a);return b},flagsToPermissionString:a=>{var b=["r","w","rw"][a&3];a&512&&(b+="w");return b},nodePermissions:(a,b)=>{if(e.ignorePermissions)return 0;if(!b.includes("r")||a.mode&292){if(b.includes("w")&&!(a.mode&146)||b.includes("x")&&!(a.mode&73))return 2}else return 2;return 0},mayLookup:a=>{var b=e.nodePermissions(a,"x");return b?b:a.node_ops.lookup?0:2},mayCreate:(a,b)=>{try{return e.lookupNode(a,b),20}catch(c){}return e.nodePermissions(a,"wx")},mayDelete:(a,b,c)=>{try{var d=e.lookupNode(a,b)}catch(f){return f.errno}if(a=
e.nodePermissions(a,"wx"))return a;if(c){if(!e.isDir(d.mode))return 54;if(e.isRoot(d)||e.getPath(d)===e.cwd())return 10}else if(e.isDir(d.mode))return 31;return 0},mayOpen:(a,b)=>a?e.isLink(a.mode)?32:e.isDir(a.mode)&&("r"!==e.flagsToPermissionString(b)||b&512)?31:e.nodePermissions(a,e.flagsToPermissionString(b)):44,MAX_OPEN_FDS:4096,nextfd:(a=0,b=e.MAX_OPEN_FDS)=>{for(;a<=b;a++)if(!e.streams[a])return a;throw new e.ErrnoError(33);},getStream:a=>e.streams[a],createStream:(a,b,c)=>{e.FSStream||(e.FSStream=
function(){this.shared={}},e.FSStream.prototype={},Object.defineProperties(e.FSStream.prototype,{object:{get:function(){return this.node},set:function(d){this.node=d}},isRead:{get:function(){return 1!==(this.flags&2097155)}},isWrite:{get:function(){return 0!==(this.flags&2097155)}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(d){this.shared.flags=d}},position:{get:function(){return this.shared.position},set:function(d){this.shared.position=
d}}}));a=Object.assign(new e.FSStream,a);b=e.nextfd(b,c);a.fd=b;return e.streams[b]=a},closeStream:a=>{e.streams[a]=null},chrdev_stream_ops:{open:a=>{var b=e.getDevice(a.node.rdev);a.stream_ops=b.stream_ops;a.stream_ops.open&&a.stream_ops.open(a)},llseek:()=>{throw new e.ErrnoError(70);}},major:a=>a>>8,minor:a=>a&255,makedev:(a,b)=>a<<8|b,registerDevice:(a,b)=>{e.devices[a]={stream_ops:b}},getDevice:a=>e.devices[a],getMounts:a=>{var b=[];for(a=[a];a.length;){var c=a.pop();b.push(c);a.push.apply(a,
c.mounts)}return b},syncfs:(a,b)=>{function c(l){e.syncFSRequests--;return b(l)}function d(l){if(l){if(!d.errored)return d.errored=!0,c(l)}else++h>=f.length&&c(null)}"function"==typeof a&&(b=a,a=!1);e.syncFSRequests++;1<e.syncFSRequests&&L("warning: "+e.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var f=e.getMounts(e.root.mount),h=0;f.forEach(l=>{if(!l.type.syncfs)return d(null);l.type.syncfs(l,a,d)})},mount:(a,b,c)=>{var d="/"===c,f=!c;if(d&&e.root)throw new e.ErrnoError(10);
if(!d&&!f){var h=e.lookupPath(c,{follow_mount:!1});c=h.path;h=h.node;if(e.isMountpoint(h))throw new e.ErrnoError(10);if(!e.isDir(h.mode))throw new e.ErrnoError(54);}b={type:a,opts:b,mountpoint:c,mounts:[]};a=a.mount(b);a.mount=b;b.root=a;d?e.root=a:h&&(h.mounted=b,h.mount&&h.mount.mounts.push(b));return a},unmount:a=>{a=e.lookupPath(a,{follow_mount:!1});if(!e.isMountpoint(a.node))throw new e.ErrnoError(28);a=a.node;var b=a.mounted,c=e.getMounts(b);Object.keys(e.nameTable).forEach(d=>{for(d=e.nameTable[d];d;){var f=
d.name_next;c.includes(d.mount)&&e.destroyNode(d);d=f}});a.mounted=null;b=a.mount.mounts.indexOf(b);a.mount.mounts.splice(b,1)},lookup:(a,b)=>a.node_ops.lookup(a,b),mknod:(a,b,c)=>{var d=e.lookupPath(a,{parent:!0}).node;a=D.basename(a);if(!a||"."===a||".."===a)throw new e.ErrnoError(28);var f=e.mayCreate(d,a);if(f)throw new e.ErrnoError(f);if(!d.node_ops.mknod)throw new e.ErrnoError(63);return d.node_ops.mknod(d,a,b,c)},create:(a,b)=>e.mknod(a,(void 0!==b?b:438)&4095|32768,0),mkdir:(a,b)=>e.mknod(a,
(void 0!==b?b:511)&1023|16384,0),mkdirTree:(a,b)=>{a=a.split("/");for(var c="",d=0;d<a.length;++d)if(a[d]){c+="/"+a[d];try{e.mkdir(c,b)}catch(f){if(20!=f.errno)throw f;}}},mkdev:(a,b,c)=>{"undefined"==typeof c&&(c=b,b=438);return e.mknod(a,b|8192,c)},symlink:(a,b)=>{if(!Y.resolve(a))throw new e.ErrnoError(44);var c=e.lookupPath(b,{parent:!0}).node;if(!c)throw new e.ErrnoError(44);b=D.basename(b);var d=e.mayCreate(c,b);if(d)throw new e.ErrnoError(d);if(!c.node_ops.symlink)throw new e.ErrnoError(63);
return c.node_ops.symlink(c,b,a)},rename:(a,b)=>{var c=D.dirname(a),d=D.dirname(b),f=D.basename(a),h=D.basename(b);var l=e.lookupPath(a,{parent:!0});var r=l.node;l=e.lookupPath(b,{parent:!0});l=l.node;if(!r||!l)throw new e.ErrnoError(44);if(r.mount!==l.mount)throw new e.ErrnoError(75);var u=e.lookupNode(r,f);a=Y.relative(a,d);if("."!==a.charAt(0))throw new e.ErrnoError(28);a=Y.relative(b,c);if("."!==a.charAt(0))throw new e.ErrnoError(55);try{var p=e.lookupNode(l,h)}catch(w){}if(u!==p){b=e.isDir(u.mode);
if(f=e.mayDelete(r,f,b))throw new e.ErrnoError(f);if(f=p?e.mayDelete(l,h,b):e.mayCreate(l,h))throw new e.ErrnoError(f);if(!r.node_ops.rename)throw new e.ErrnoError(63);if(e.isMountpoint(u)||p&&e.isMountpoint(p))throw new e.ErrnoError(10);if(l!==r&&(f=e.nodePermissions(r,"w")))throw new e.ErrnoError(f);e.hashRemoveNode(u);try{r.node_ops.rename(u,l,h)}catch(w){throw w;}finally{e.hashAddNode(u)}}},rmdir:a=>{var b=e.lookupPath(a,{parent:!0}).node;a=D.basename(a);var c=e.lookupNode(b,a),d=e.mayDelete(b,
a,!0);if(d)throw new e.ErrnoError(d);if(!b.node_ops.rmdir)throw new e.ErrnoError(63);if(e.isMountpoint(c))throw new e.ErrnoError(10);b.node_ops.rmdir(b,a);e.destroyNode(c)},readdir:a=>{a=e.lookupPath(a,{follow:!0}).node;if(!a.node_ops.readdir)throw new e.ErrnoError(54);return a.node_ops.readdir(a)},unlink:a=>{var b=e.lookupPath(a,{parent:!0}).node;if(!b)throw new e.ErrnoError(44);a=D.basename(a);var c=e.lookupNode(b,a),d=e.mayDelete(b,a,!1);if(d)throw new e.ErrnoError(d);if(!b.node_ops.unlink)throw new e.ErrnoError(63);
if(e.isMountpoint(c))throw new e.ErrnoError(10);b.node_ops.unlink(b,a);e.destroyNode(c)},readlink:a=>{a=e.lookupPath(a).node;if(!a)throw new e.ErrnoError(44);if(!a.node_ops.readlink)throw new e.ErrnoError(28);return Y.resolve(e.getPath(a.parent),a.node_ops.readlink(a))},stat:(a,b)=>{a=e.lookupPath(a,{follow:!b}).node;if(!a)throw new e.ErrnoError(44);if(!a.node_ops.getattr)throw new e.ErrnoError(63);return a.node_ops.getattr(a)},lstat:a=>e.stat(a,!0),chmod:(a,b,c)=>{a="string"==typeof a?e.lookupPath(a,
{follow:!c}).node:a;if(!a.node_ops.setattr)throw new e.ErrnoError(63);a.node_ops.setattr(a,{mode:b&4095|a.mode&-4096,timestamp:Date.now()})},lchmod:(a,b)=>{e.chmod(a,b,!0)},fchmod:(a,b)=>{a=e.getStream(a);if(!a)throw new e.ErrnoError(8);e.chmod(a.node,b)},chown:(a,b,c,d)=>{a="string"==typeof a?e.lookupPath(a,{follow:!d}).node:a;if(!a.node_ops.setattr)throw new e.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:(a,b,c)=>{e.chown(a,b,c,!0)},fchown:(a,b,c)=>{a=e.getStream(a);if(!a)throw new e.ErrnoError(8);
e.chown(a.node,b,c)},truncate:(a,b)=>{if(0>b)throw new e.ErrnoError(28);a="string"==typeof a?e.lookupPath(a,{follow:!0}).node:a;if(!a.node_ops.setattr)throw new e.ErrnoError(63);if(e.isDir(a.mode))throw new e.ErrnoError(31);if(!e.isFile(a.mode))throw new e.ErrnoError(28);var c=e.nodePermissions(a,"w");if(c)throw new e.ErrnoError(c);a.node_ops.setattr(a,{size:b,timestamp:Date.now()})},ftruncate:(a,b)=>{a=e.getStream(a);if(!a)throw new e.ErrnoError(8);if(0===(a.flags&2097155))throw new e.ErrnoError(28);
e.truncate(a.node,b)},utime:(a,b,c)=>{a=e.lookupPath(a,{follow:!0}).node;a.node_ops.setattr(a,{timestamp:Math.max(b,c)})},open:(a,b,c)=>{if(""===a)throw new e.ErrnoError(44);b="string"==typeof b?e.modeStringToFlags(b):b;c=b&64?("undefined"==typeof c?438:c)&4095|32768:0;if("object"==typeof a)var d=a;else{a=D.normalize(a);try{d=e.lookupPath(a,{follow:!(b&131072)}).node}catch(h){}}var f=!1;if(b&64)if(d){if(b&128)throw new e.ErrnoError(20);}else d=e.mknod(a,c,0),f=!0;if(!d)throw new e.ErrnoError(44);
e.isChrdev(d.mode)&&(b&=-513);if(b&65536&&!e.isDir(d.mode))throw new e.ErrnoError(54);if(!f&&(c=e.mayOpen(d,b)))throw new e.ErrnoError(c);b&512&&!f&&e.truncate(d,0);b&=-131713;d=e.createStream({node:d,path:e.getPath(d),flags:b,seekable:!0,position:0,stream_ops:d.stream_ops,ungotten:[],error:!1});d.stream_ops.open&&d.stream_ops.open(d);!g.logReadFiles||b&1||(e.readFiles||(e.readFiles={}),a in e.readFiles||(e.readFiles[a]=1));return d},close:a=>{if(e.isClosed(a))throw new e.ErrnoError(8);a.getdents&&
(a.getdents=null);try{a.stream_ops.close&&a.stream_ops.close(a)}catch(b){throw b;}finally{e.closeStream(a.fd)}a.fd=null},isClosed:a=>null===a.fd,llseek:(a,b,c)=>{if(e.isClosed(a))throw new e.ErrnoError(8);if(!a.seekable||!a.stream_ops.llseek)throw new e.ErrnoError(70);if(0!=c&&1!=c&&2!=c)throw new e.ErrnoError(28);a.position=a.stream_ops.llseek(a,b,c);a.ungotten=[];return a.position},read:(a,b,c,d,f)=>{if(0>d||0>f)throw new e.ErrnoError(28);if(e.isClosed(a))throw new e.ErrnoError(8);if(1===(a.flags&
2097155))throw new e.ErrnoError(8);if(e.isDir(a.node.mode))throw new e.ErrnoError(31);if(!a.stream_ops.read)throw new e.ErrnoError(28);var h="undefined"!=typeof f;if(!h)f=a.position;else if(!a.seekable)throw new e.ErrnoError(70);b=a.stream_ops.read(a,b,c,d,f);h||(a.position+=b);return b},write:(a,b,c,d,f,h)=>{if(0>d||0>f)throw new e.ErrnoError(28);if(e.isClosed(a))throw new e.ErrnoError(8);if(0===(a.flags&2097155))throw new e.ErrnoError(8);if(e.isDir(a.node.mode))throw new e.ErrnoError(31);if(!a.stream_ops.write)throw new e.ErrnoError(28);
a.seekable&&a.flags&1024&&e.llseek(a,0,2);var l="undefined"!=typeof f;if(!l)f=a.position;else if(!a.seekable)throw new e.ErrnoError(70);b=a.stream_ops.write(a,b,c,d,f,h);l||(a.position+=b);return b},allocate:(a,b,c)=>{if(e.isClosed(a))throw new e.ErrnoError(8);if(0>b||0>=c)throw new e.ErrnoError(28);if(0===(a.flags&2097155))throw new e.ErrnoError(8);if(!e.isFile(a.node.mode)&&!e.isDir(a.node.mode))throw new e.ErrnoError(43);if(!a.stream_ops.allocate)throw new e.ErrnoError(138);a.stream_ops.allocate(a,
b,c)},mmap:(a,b,c,d,f)=>{if(0!==(d&2)&&0===(f&2)&&2!==(a.flags&2097155))throw new e.ErrnoError(2);if(1===(a.flags&2097155))throw new e.ErrnoError(2);if(!a.stream_ops.mmap)throw new e.ErrnoError(43);return a.stream_ops.mmap(a,b,c,d,f)},msync:(a,b,c,d,f)=>a&&a.stream_ops.msync?a.stream_ops.msync(a,b,c,d,f):0,munmap:a=>0,ioctl:(a,b,c)=>{if(!a.stream_ops.ioctl)throw new e.ErrnoError(59);return a.stream_ops.ioctl(a,b,c)},readFile:(a,b={})=>{b.flags=b.flags||0;b.encoding=b.encoding||"binary";if("utf8"!==
b.encoding&&"binary"!==b.encoding)throw Error('Invalid encoding type "'+b.encoding+'"');var c,d=e.open(a,b.flags);a=e.stat(a).size;var f=new Uint8Array(a);e.read(d,f,0,a,0);"utf8"===b.encoding?c=ha(f,0):"binary"===b.encoding&&(c=f);e.close(d);return c},writeFile:(a,b,c={})=>{c.flags=c.flags||577;a=e.open(a,c.flags,c.mode);if("string"==typeof b){var d=new Uint8Array(na(b)+1);b=W(b,d,0,d.length);e.write(a,d,0,b,void 0,c.canOwn)}else if(ArrayBuffer.isView(b))e.write(a,b,0,b.byteLength,void 0,c.canOwn);
else throw Error("Unsupported data type");e.close(a)},cwd:()=>e.currentPath,chdir:a=>{a=e.lookupPath(a,{follow:!0});if(null===a.node)throw new e.ErrnoError(44);if(!e.isDir(a.node.mode))throw new e.ErrnoError(54);var b=e.nodePermissions(a.node,"x");if(b)throw new e.ErrnoError(b);e.currentPath=a.path},createDefaultDirectories:()=>{e.mkdir("/tmp");e.mkdir("/home");e.mkdir("/home/web_user")},createDefaultDevices:()=>{e.mkdir("/dev");e.registerDevice(e.makedev(1,3),{read:()=>0,write:(b,c,d,f,h)=>f});e.mkdev("/dev/null",
e.makedev(1,3));ca.register(e.makedev(5,0),ca.default_tty_ops);ca.register(e.makedev(6,0),ca.default_tty1_ops);e.mkdev("/dev/tty",e.makedev(5,0));e.mkdev("/dev/tty1",e.makedev(6,0));var a=jb();e.createDevice("/dev","random",a);e.createDevice("/dev","urandom",a);e.mkdir("/dev/shm");e.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{e.mkdir("/proc");var a=e.mkdir("/proc/self");e.mkdir("/proc/self/fd");e.mount({mount:()=>{var b=e.createNode(a,"fd",16895,73);b.node_ops={lookup:(c,d)=>{var f=e.getStream(+d);
if(!f)throw new e.ErrnoError(8);c={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>f.path}};return c.parent=c}};return b}},{},"/proc/self/fd")},createStandardStreams:()=>{g.stdin?e.createDevice("/dev","stdin",g.stdin):e.symlink("/dev/tty","/dev/stdin");g.stdout?e.createDevice("/dev","stdout",null,g.stdout):e.symlink("/dev/tty","/dev/stdout");g.stderr?e.createDevice("/dev","stderr",null,g.stderr):e.symlink("/dev/tty1","/dev/stderr");e.open("/dev/stdin",0);e.open("/dev/stdout",1);e.open("/dev/stderr",
1)},ensureErrnoError:()=>{e.ErrnoError||(e.ErrnoError=function(a,b){this.node=b;this.setErrno=function(c){this.errno=c};this.setErrno(a);this.message="FS error"},e.ErrnoError.prototype=Error(),e.ErrnoError.prototype.constructor=e.ErrnoError,[44].forEach(a=>{e.genericErrors[a]=new e.ErrnoError(a);e.genericErrors[a].stack="<generic error, no stack>"}))},staticInit:()=>{e.ensureErrnoError();e.nameTable=Array(4096);e.mount(B,{},"/");e.createDefaultDirectories();e.createDefaultDevices();e.createSpecialDirectories();
e.filesystems={MEMFS:B}},init:(a,b,c)=>{e.init.initialized=!0;e.ensureErrnoError();g.stdin=a||g.stdin;g.stdout=b||g.stdout;g.stderr=c||g.stderr;e.createStandardStreams()},quit:()=>{e.init.initialized=!1;for(var a=0;a<e.streams.length;a++){var b=e.streams[a];b&&e.close(b)}},getMode:(a,b)=>{var c=0;a&&(c|=365);b&&(c|=146);return c},findObject:(a,b)=>{a=e.analyzePath(a,b);return a.exists?a.object:null},analyzePath:(a,b)=>{try{var c=e.lookupPath(a,{follow:!b});a=c.path}catch(f){}var d={isRoot:!1,exists:!1,
error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{c=e.lookupPath(a,{parent:!0}),d.parentExists=!0,d.parentPath=c.path,d.parentObject=c.node,d.name=D.basename(a),c=e.lookupPath(a,{follow:!b}),d.exists=!0,d.path=c.path,d.object=c.node,d.name=c.node.name,d.isRoot="/"===c.path}catch(f){d.error=f.errno}return d},createPath:(a,b,c,d)=>{a="string"==typeof a?a:e.getPath(a);for(b=b.split("/").reverse();b.length;)if(c=b.pop()){var f=D.join2(a,c);try{e.mkdir(f)}catch(h){}a=
f}return f},createFile:(a,b,c,d,f)=>{a=D.join2("string"==typeof a?a:e.getPath(a),b);d=e.getMode(d,f);return e.create(a,d)},createDataFile:(a,b,c,d,f,h)=>{var l=b;a&&(a="string"==typeof a?a:e.getPath(a),l=b?D.join2(a,b):a);a=e.getMode(d,f);l=e.create(l,a);if(c){if("string"==typeof c){b=Array(c.length);d=0;for(f=c.length;d<f;++d)b[d]=c.charCodeAt(d);c=b}e.chmod(l,a|146);b=e.open(l,577);e.write(b,c,0,c.length,0,h);e.close(b);e.chmod(l,a)}return l},createDevice:(a,b,c,d)=>{a=D.join2("string"==typeof a?
a:e.getPath(a),b);b=e.getMode(!!c,!!d);e.createDevice.major||(e.createDevice.major=64);var f=e.makedev(e.createDevice.major++,0);e.registerDevice(f,{open:h=>{h.seekable=!1},close:h=>{d&&d.buffer&&d.buffer.length&&d(10)},read:(h,l,r,u,p)=>{for(var w=p=0;w<u;w++){try{var x=c()}catch(A){throw new e.ErrnoError(29);}if(void 0===x&&0===p)throw new e.ErrnoError(6);if(null===x||void 0===x)break;p++;l[r+w]=x}p&&(h.node.timestamp=Date.now());return p},write:(h,l,r,u,p)=>{for(p=0;p<u;p++)try{d(l[r+p])}catch(w){throw new e.ErrnoError(29);
}u&&(h.node.timestamp=Date.now());return p}});return e.mkdev(a,b,f)},forceLoadFile:a=>{if(a.isDevice||a.isFolder||a.link||a.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(Oa)try{a.contents=Ea(Oa(a.url),!0),a.usedBytes=a.contents.length}catch(b){throw new e.ErrnoError(29);}else throw Error("Cannot load without read() or XMLHttpRequest.");
},createLazyFile:(a,b,c,d,f)=>{function h(){this.lengthKnown=!1;this.chunks=[]}h.prototype.get=function(p){if(!(p>this.length-1||0>p)){var w=p%this.chunkSize;return this.getter(p/this.chunkSize|0)[w]}};h.prototype.setDataGetter=function(p){this.getter=p};h.prototype.cacheLength=function(){var p=new XMLHttpRequest;p.open("HEAD",c,!1);p.send(null);if(!(200<=p.status&&300>p.status||304===p.status))throw Error("Couldn't load "+c+". Status: "+p.status);var w=Number(p.getResponseHeader("Content-length")),
x,A=(x=p.getResponseHeader("Accept-Ranges"))&&"bytes"===x;p=(x=p.getResponseHeader("Content-Encoding"))&&"gzip"===x;var n=1048576;A||(n=w);var y=this;y.setDataGetter(E=>{var H=E*n,S=(E+1)*n-1;S=Math.min(S,w-1);if("undefined"==typeof y.chunks[E]){var lc=y.chunks;if(H>S)throw Error("invalid range ("+H+", "+S+") or no bytes requested!");if(S>w-1)throw Error("only "+w+" bytes available! programmer error!");var Q=new XMLHttpRequest;Q.open("GET",c,!1);w!==n&&Q.setRequestHeader("Range","bytes="+H+"-"+S);
Q.responseType="arraybuffer";Q.overrideMimeType&&Q.overrideMimeType("text/plain; charset=x-user-defined");Q.send(null);if(!(200<=Q.status&&300>Q.status||304===Q.status))throw Error("Couldn't load "+c+". Status: "+Q.status);H=void 0!==Q.response?new Uint8Array(Q.response||[]):Ea(Q.responseText||"",!0);lc[E]=H}if("undefined"==typeof y.chunks[E])throw Error("doXHR failed!");return y.chunks[E]});if(p||!w)n=w=1,n=w=this.getter(0).length,N("LazyFiles on gzip forces download of the whole file when length is accessed");
this._length=w;this._chunkSize=n;this.lengthKnown=!0};if("undefined"!=typeof XMLHttpRequest){if(!fa)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var l=new h;Object.defineProperties(l,{length:{get:function(){this.lengthKnown||this.cacheLength();return this._length}},chunkSize:{get:function(){this.lengthKnown||this.cacheLength();return this._chunkSize}}});l={isDevice:!1,contents:l}}else l={isDevice:!1,url:c};var r=e.createFile(a,
b,l,d,f);l.contents?r.contents=l.contents:l.url&&(r.contents=null,r.url=l.url);Object.defineProperties(r,{usedBytes:{get:function(){return this.contents.length}}});var u={};Object.keys(r.stream_ops).forEach(p=>{var w=r.stream_ops[p];u[p]=function(){e.forceLoadFile(r);return w.apply(null,arguments)}});u.read=(p,w,x,A,n)=>{e.forceLoadFile(r);p=p.node.contents;if(n>=p.length)w=0;else{A=Math.min(p.length-n,A);if(p.slice)for(var y=0;y<A;y++)w[x+y]=p[n+y];else for(y=0;y<A;y++)w[x+y]=p.get(n+y);w=A}return w};
u.mmap=(p,w,x,A,n)=>{e.forceLoadFile(r);M();throw new e.ErrnoError(48);};r.stream_ops=u;return r},createPreloadedFile:(a,b,c,d,f,h,l,r,u,p)=>{function w(n){function y(E){p&&p();r||e.createDataFile(a,b,E,d,f,u);h&&h();pa(A)}m.handledByPreloadPlugin(n,x,y,()=>{l&&l();pa(A)})||y(n)}var x=b?Y.resolve(D.join2(a,b)):a,A="cp "+x;ya(A);"string"==typeof c?Wb(c,n=>w(n),l):w(c)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,
DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(a,b,c)=>{b=b||(()=>{});c=c||(()=>{});var d=e.indexedDB();try{var f=d.open(e.DB_NAME(),e.DB_VERSION)}catch(h){return c(h)}f.onupgradeneeded=()=>{N("creating db");f.result.createObjectStore(e.DB_STORE_NAME)};f.onsuccess=()=>{var h=f.result.transaction([e.DB_STORE_NAME],"readwrite"),l=h.objectStore(e.DB_STORE_NAME),r=0,u=0,p=a.length;a.forEach(w=>{w=l.put(e.analyzePath(w).object.contents,w);w.onsuccess=()=>{r++;r+u==p&&(0==u?b():c())};w.onerror=
()=>{u++;r+u==p&&(0==u?b():c())}});h.onerror=c};f.onerror=c},loadFilesFromDB:(a,b,c)=>{b=b||(()=>{});c=c||(()=>{});var d=e.indexedDB();try{var f=d.open(e.DB_NAME(),e.DB_VERSION)}catch(h){return c(h)}f.onupgradeneeded=c;f.onsuccess=()=>{var h=f.result;try{var l=h.transaction([e.DB_STORE_NAME],"readonly")}catch(x){c(x);return}var r=l.objectStore(e.DB_STORE_NAME),u=0,p=0,w=a.length;a.forEach(x=>{var A=r.get(x);A.onsuccess=()=>{e.analyzePath(x).exists&&e.unlink(x);e.createDataFile(D.dirname(x),D.basename(x),
A.result,!0,!0,!0);u++;u+p==w&&(0==p?b():c())};A.onerror=()=>{p++;u+p==w&&(0==p?b():c())}});l.onerror=c};f.onerror=c}},J={DEFAULT_POLLMASK:5,calculateAt:function(a,b,c){if(D.isAbs(b))return b;if(-100===a)a=e.cwd();else{a=e.getStream(a);if(!a)throw new e.ErrnoError(8);a=a.path}if(0==b.length){if(!c)throw new e.ErrnoError(44);return a}return D.join2(a,b)},doStat:function(a,b,c){try{var d=a(b)}catch(f){if(f&&f.node&&D.normalize(b)!==D.normalize(e.getPath(f.node)))return-54;throw f;}v[c>>2]=d.dev;v[c+
4>>2]=0;v[c+8>>2]=d.ino;v[c+12>>2]=d.mode;v[c+16>>2]=d.nlink;v[c+20>>2]=d.uid;v[c+24>>2]=d.gid;v[c+28>>2]=d.rdev;v[c+32>>2]=0;K=[d.size>>>0,(C=d.size,1<=+Math.abs(C)?0<C?(Math.min(+Math.floor(C/4294967296),4294967295)|0)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)];v[c+40>>2]=K[0];v[c+44>>2]=K[1];v[c+48>>2]=4096;v[c+52>>2]=d.blocks;K=[Math.floor(d.atime.getTime()/1E3)>>>0,(C=Math.floor(d.atime.getTime()/1E3),1<=+Math.abs(C)?0<C?(Math.min(+Math.floor(C/4294967296),4294967295)|0)>>>0:~~+Math.ceil((C-
+(~~C>>>0))/4294967296)>>>0:0)];v[c+56>>2]=K[0];v[c+60>>2]=K[1];v[c+64>>2]=0;K=[Math.floor(d.mtime.getTime()/1E3)>>>0,(C=Math.floor(d.mtime.getTime()/1E3),1<=+Math.abs(C)?0<C?(Math.min(+Math.floor(C/4294967296),4294967295)|0)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)];v[c+72>>2]=K[0];v[c+76>>2]=K[1];v[c+80>>2]=0;K=[Math.floor(d.ctime.getTime()/1E3)>>>0,(C=Math.floor(d.ctime.getTime()/1E3),1<=+Math.abs(C)?0<C?(Math.min(+Math.floor(C/4294967296),4294967295)|0)>>>0:~~+Math.ceil((C-+(~~C>>>0))/
4294967296)>>>0:0)];v[c+88>>2]=K[0];v[c+92>>2]=K[1];v[c+96>>2]=0;K=[d.ino>>>0,(C=d.ino,1<=+Math.abs(C)?0<C?(Math.min(+Math.floor(C/4294967296),4294967295)|0)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)];v[c+104>>2]=K[0];v[c+108>>2]=K[1];return 0},doMsync:function(a,b,c,d,f){a=G.slice(a,a+c);e.msync(b,a,f,c,d)},varargs:void 0,get:function(){J.varargs+=4;return v[J.varargs-4>>2]},getStr:function(a){return R(a)},getStreamFromFD:function(a){a=e.getStream(a);if(!a)throw new e.ErrnoError(8);return a}},
kb=void 0,Ua={},nb={},Yb={},mb=void 0,ab=[],V=[{},{value:void 0},{value:null},{value:!0},{value:!1}],Hb={toValue:a=>{a||ja("Cannot use deleted val. handle = "+a);return V[a].value},toHandle:a=>{switch(a){case void 0:return 1;case null:return 2;case !0:return 3;case !1:return 4;default:var b=ab.length?ab.pop():V.length;V[b]={refcount:1,value:a};return b}}},ob="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;var Xa=ia?()=>{var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:()=>performance.now();
var m={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){m.mainLoop.scheduler=null;m.mainLoop.currentlyRunningMainloop++},resume:function(){m.mainLoop.currentlyRunningMainloop++;var a=m.mainLoop.timingMode,b=m.mainLoop.timingValue,c=m.mainLoop.func;m.mainLoop.func=null;pb(c,0,!1,m.mainLoop.arg,!0);Wa(a,b);m.mainLoop.scheduler()},updateStatus:function(){if(g.setStatus){var a=g.statusMessage||
"Please wait...",b=m.mainLoop.remainingBlockers,c=m.mainLoop.expectedBlockers;b?b<c?g.setStatus(a+" ("+(c-b)+"/"+c+")"):g.setStatus(a):g.setStatus("")}},runIter:function(a){X||g.preMainLoop&&!1===g.preMainLoop()||(ka(a),g.postMainLoop&&g.postMainLoop())}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){function a(){m.pointerLock=document.pointerLockElement===g.canvas||document.mozPointerLockElement===g.canvas||document.webkitPointerLockElement===g.canvas||
document.msPointerLockElement===g.canvas}g.preloadPlugins||(g.preloadPlugins=[]);if(!m.initted){m.initted=!0;try{new Blob,m.hasBlobConstructor=!0}catch(c){m.hasBlobConstructor=!1,L("warning: no blob constructor, cannot create blobs with mimetypes")}m.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:m.hasBlobConstructor?null:L("warning: no BlobBuilder");m.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:
void 0;g.noImageDecoding||"undefined"!=typeof m.URLObject||(L("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),g.noImageDecoding=!0);g.preloadPlugins.push({canHandle:function(c){return!g.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(c)},handle:function(c,d,f,h){var l=null;if(m.hasBlobConstructor)try{l=new Blob([c],{type:m.getMimetype(d)}),l.size!==c.length&&(l=new Blob([(new Uint8Array(c)).buffer],{type:m.getMimetype(d)}))}catch(p){sa("Blob constructor present but fails: "+
p+"; falling back to blob builder")}l||(l=new m.BlobBuilder,l.append((new Uint8Array(c)).buffer),l=l.getBlob());var r=m.URLObject.createObjectURL(l),u=new Image;u.onload=()=>{u.complete||M("Image "+d+" could not be decoded");var p=document.createElement("canvas");p.width=u.width;p.height=u.height;p.getContext("2d").drawImage(u,0,0);m.URLObject.revokeObjectURL(r);f&&f(c)};u.onerror=p=>{N("Image "+r+" could not be decoded");h&&h()};u.src=r}});g.preloadPlugins.push({canHandle:function(c){return!g.noAudioDecoding&&
c.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(c,d,f,h){function l(x){u||(u=!0,f&&f(c))}function r(){u||(u=!0,new Audio,h&&h())}var u=!1;if(m.hasBlobConstructor){try{var p=new Blob([c],{type:m.getMimetype(d)})}catch(x){return r()}p=m.URLObject.createObjectURL(p);var w=new Audio;w.addEventListener("canplaythrough",()=>l(w),!1);w.onerror=function(x){if(!u){L("warning: browser could not fully decode audio "+d+", trying slower base64 approach");x="data:audio/x-"+d.substr(-3)+";base64,";for(var A=
"",n=0,y=0,E=0;E<c.length;E++)for(n=n<<8|c[E],y+=8;6<=y;){var H=n>>y-6&63;y-=6;A+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[H]}2==y?(A+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(n&3)<<4],A+="=="):4==y&&(A+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(n&15)<<2],A+="=");w.src=x+A;l(w)}};w.src=p;qb(function(){l(w)},1E4)}else return r()}});var b=g.canvas;b&&(b.requestPointerLock=b.requestPointerLock||b.mozRequestPointerLock||b.webkitRequestPointerLock||
b.msRequestPointerLock||(()=>{}),b.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),b.exitPointerLock=b.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",a,!1),document.addEventListener("mozpointerlockchange",a,!1),document.addEventListener("webkitpointerlockchange",a,!1),document.addEventListener("mspointerlockchange",a,!1),g.elementPointerLock&&b.addEventListener("click",c=>{!m.pointerLock&&
g.canvas.requestPointerLock&&(g.canvas.requestPointerLock(),c.preventDefault())},!1))}},handledByPreloadPlugin:function(a,b,c,d){m.init();var f=!1;g.preloadPlugins.forEach(function(h){!f&&h.canHandle(b)&&(h.handle(a,b,c,d),f=!0)});return f},createContext:function(a,b,c,d){if(b&&g.ctx&&a==g.canvas)return g.ctx;var f;if(b){var h={antialias:!1,alpha:!1,majorVersion:2};if(d)for(var l in d)h[l]=d[l];if("undefined"!=typeof q&&(f=q.createContext(a,h)))var r=q.getContext(f).GLctx}else r=a.getContext("2d");
if(!r)return null;c&&(b||"undefined"!=typeof t&&M("cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),g.ctx=r,b&&q.makeContextCurrent(f),g.useWebGL=b,m.moduleContextCreatedCallbacks.forEach(function(u){u()}),m.init());return r},destroyContext:function(a,b,c){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(a,b){function c(){m.isFullscreen=!1;var h=d.parentNode;(document.fullscreenElement||document.mozFullScreenElement||
document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===h?(d.exitFullscreen=m.exitFullscreen,m.lockPointer&&d.requestPointerLock(),m.isFullscreen=!0,m.resizeCanvas?m.setFullscreenCanvasSize():m.updateCanvasDimensions(d)):(h.parentNode.insertBefore(d,h),h.parentNode.removeChild(h),m.resizeCanvas?m.setWindowedCanvasSize():m.updateCanvasDimensions(d));if(g.onFullScreen)g.onFullScreen(m.isFullscreen);if(g.onFullscreen)g.onFullscreen(m.isFullscreen)}m.lockPointer=
a;m.resizeCanvas=b;"undefined"==typeof m.lockPointer&&(m.lockPointer=!0);"undefined"==typeof m.resizeCanvas&&(m.resizeCanvas=!1);var d=g.canvas;m.fullscreenHandlersInstalled||(m.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",c,!1),document.addEventListener("mozfullscreenchange",c,!1),document.addEventListener("webkitfullscreenchange",c,!1),document.addEventListener("MSFullscreenChange",c,!1));var f=document.createElement("div");d.parentNode.insertBefore(f,d);f.appendChild(d);
f.requestFullscreen=f.requestFullscreen||f.mozRequestFullScreen||f.msRequestFullscreen||(f.webkitRequestFullscreen?()=>f.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(f.webkitRequestFullScreen?()=>f.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null);f.requestFullscreen()},exitFullscreen:function(){if(!m.isFullscreen)return!1;(document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,
[]);return!0},nextRAF:0,fakeRequestAnimationFrame:function(a){var b=Date.now();if(0===m.nextRAF)m.nextRAF=b+1E3/60;else for(;b+2>=m.nextRAF;)m.nextRAF+=1E3/60;setTimeout(a,Math.max(m.nextRAF-b,0))},requestAnimationFrame:function(a){if("function"==typeof requestAnimationFrame)requestAnimationFrame(a);else{var b=m.fakeRequestAnimationFrame;b(a)}},safeSetTimeout:function(a){return qb(a)},safeRequestAnimationFrame:function(a){return m.requestAnimationFrame(function(){ka(a)})},getMimetype:function(a){return{jpg:"image/jpeg",
jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[a.substr(a.lastIndexOf(".")+1)]},getUserMedia:function(a){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia);window.getUserMedia(a)},getMovementX:function(a){return a.movementX||a.mozMovementX||a.webkitMovementX||0},getMovementY:function(a){return a.movementY||a.mozMovementY||a.webkitMovementY||0},getMouseWheelDelta:function(a){switch(a.type){case "DOMMouseScroll":var b=
a.detail/3;break;case "mousewheel":b=a.wheelDelta/120;break;case "wheel":b=a.deltaY;switch(a.deltaMode){case 0:b/=100;break;case 1:b/=3;break;case 2:b*=80;break;default:throw"unrecognized mouse wheel delta mode: "+a.deltaMode;}break;default:throw"unrecognized mouse wheel event: "+a.type;}return b},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(a){if(m.pointerLock)"mousemove"!=a.type&&"mozMovementX"in a?m.mouseMovementX=m.mouseMovementY=0:
(m.mouseMovementX=m.getMovementX(a),m.mouseMovementY=m.getMovementY(a)),"undefined"!=typeof SDL?(m.mouseX=SDL.mouseX+m.mouseMovementX,m.mouseY=SDL.mouseY+m.mouseMovementY):(m.mouseX+=m.mouseMovementX,m.mouseY+=m.mouseMovementY);else{var b=g.canvas.getBoundingClientRect(),c=g.canvas.width,d=g.canvas.height,f="undefined"!=typeof window.scrollX?window.scrollX:window.pageXOffset,h="undefined"!=typeof window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===a.type||"touchend"===a.type||"touchmove"===
a.type){var l=a.touch;if(void 0!==l)if(f=l.pageX-(f+b.left),h=l.pageY-(h+b.top),f*=c/b.width,h*=d/b.height,b={x:f,y:h},"touchstart"===a.type)m.lastTouches[l.identifier]=b,m.touches[l.identifier]=b;else if("touchend"===a.type||"touchmove"===a.type)(a=m.touches[l.identifier])||(a=b),m.lastTouches[l.identifier]=a,m.touches[l.identifier]=b}else l=a.pageX-(f+b.left),a=a.pageY-(h+b.top),l*=c/b.width,a*=d/b.height,m.mouseMovementX=l-m.mouseX,m.mouseMovementY=a-m.mouseY,m.mouseX=l,m.mouseY=a}},resizeListeners:[],
updateResizeListeners:function(){var a=g.canvas;m.resizeListeners.forEach(function(b){b(a.width,a.height)})},setCanvasSize:function(a,b,c){m.updateCanvasDimensions(g.canvas,a,b);c||m.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){"undefined"!=typeof SDL&&(v[SDL.screen>>2]=F[SDL.screen>>2]|8388608);m.updateCanvasDimensions(g.canvas);m.updateResizeListeners()},setWindowedCanvasSize:function(){"undefined"!=typeof SDL&&(v[SDL.screen>>2]=F[SDL.screen>>2]&-8388609);
m.updateCanvasDimensions(g.canvas);m.updateResizeListeners()},updateCanvasDimensions:function(a,b,c){b&&c?(a.widthNative=b,a.heightNative=c):(b=a.widthNative,c=a.heightNative);var d=b,f=c;g.forcedAspectRatio&&0<g.forcedAspectRatio&&(d/f<g.forcedAspectRatio?d=Math.round(f*g.forcedAspectRatio):f=Math.round(d/g.forcedAspectRatio));if((document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===a.parentNode&&
"undefined"!=typeof screen){var h=Math.min(screen.width/d,screen.height/f);d=Math.round(d*h);f=Math.round(f*h)}m.resizeCanvas?(a.width!=d&&(a.width=d),a.height!=f&&(a.height=f),"undefined"!=typeof a.style&&(a.style.removeProperty("width"),a.style.removeProperty("height"))):(a.width!=b&&(a.width=b),a.height!=c&&(a.height=c),"undefined"!=typeof a.style&&(d!=b||f!=c?(a.style.setProperty("width",d+"px","important"),a.style.setProperty("height",f+"px","important")):(a.style.removeProperty("width"),a.style.removeProperty("height"))))}},
Za={},q={counter:1,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function(a){q.lastError||(q.lastError=a)},getNewId:function(a){for(var b=q.counter++,c=a.length;c<b;c++)a[c]=null;return b},MAX_TEMP_BUFFER_SIZE:2097152,numTempVertexBuffersPerSize:64,
log2ceilLookup:function(a){return 32-Math.clz32(0===a?0:a-1)},generateTempBuffers:function(a,b){var c=q.log2ceilLookup(q.MAX_TEMP_BUFFER_SIZE);b.tempVertexBufferCounters1=[];b.tempVertexBufferCounters2=[];b.tempVertexBufferCounters1.length=b.tempVertexBufferCounters2.length=c+1;b.tempVertexBuffers1=[];b.tempVertexBuffers2=[];b.tempVertexBuffers1.length=b.tempVertexBuffers2.length=c+1;b.tempIndexBuffers=[];b.tempIndexBuffers.length=c+1;for(var d=0;d<=c;++d){b.tempIndexBuffers[d]=null;b.tempVertexBufferCounters1[d]=
b.tempVertexBufferCounters2[d]=0;var f=q.numTempVertexBuffersPerSize;b.tempVertexBuffers1[d]=[];b.tempVertexBuffers2[d]=[];var h=b.tempVertexBuffers1[d],l=b.tempVertexBuffers2[d];h.length=l.length=f;for(var r=0;r<f;++r)h[r]=l[r]=null}if(a){b.tempQuadIndexBuffer=t.createBuffer();b.GLctx.bindBuffer(34963,b.tempQuadIndexBuffer);a=q.MAX_TEMP_BUFFER_SIZE>>1;c=new Uint16Array(a);for(f=d=0;;){c[d++]=f;if(d>=a)break;c[d++]=f+1;if(d>=a)break;c[d++]=f+2;if(d>=a)break;c[d++]=f;if(d>=a)break;c[d++]=f+2;if(d>=
a)break;c[d++]=f+3;if(d>=a)break;f+=4}b.GLctx.bufferData(34963,c,35044);b.GLctx.bindBuffer(34963,null)}},getTempVertexBuffer:function(a){a=q.log2ceilLookup(a);var b=q.currentContext.tempVertexBuffers1[a],c=q.currentContext.tempVertexBufferCounters1[a];q.currentContext.tempVertexBufferCounters1[a]=q.currentContext.tempVertexBufferCounters1[a]+1&q.numTempVertexBuffersPerSize-1;var d=b[c];if(d)return d;d=t.getParameter(34964);b[c]=t.createBuffer();t.bindBuffer(34962,b[c]);t.bufferData(34962,1<<a,35048);
t.bindBuffer(34962,d);return b[c]},getTempIndexBuffer:function(a){a=q.log2ceilLookup(a);var b=q.currentContext.tempIndexBuffers[a];if(b)return b;b=t.getParameter(34965);q.currentContext.tempIndexBuffers[a]=t.createBuffer();t.bindBuffer(34963,q.currentContext.tempIndexBuffers[a]);t.bufferData(34963,1<<a,35048);t.bindBuffer(34963,b);return q.currentContext.tempIndexBuffers[a]},newRenderingFrameStarted:function(){if(q.currentContext){var a=q.currentContext.tempVertexBuffers1;q.currentContext.tempVertexBuffers1=
q.currentContext.tempVertexBuffers2;q.currentContext.tempVertexBuffers2=a;a=q.currentContext.tempVertexBufferCounters1;q.currentContext.tempVertexBufferCounters1=q.currentContext.tempVertexBufferCounters2;q.currentContext.tempVertexBufferCounters2=a;a=q.log2ceilLookup(q.MAX_TEMP_BUFFER_SIZE);for(var b=0;b<=a;++b)q.currentContext.tempVertexBufferCounters1[b]=0}},getSource:function(a,b,c,d){a="";for(var f=0;f<b;++f){var h=d?v[d+4*f>>2]:-1;a+=R(v[c+4*f>>2],0>h?void 0:h)}return a},calcBufLength:function(a,
b,c,d){return 0<c?d*c:a*q.byteSizeByType[b-q.byteSizeByTypeRoot]*d},usedTempBuffers:[],preDrawHandleClientVertexAttribBindings:function(a){q.resetBufferBinding=!1;for(var b=0;b<q.currentContext.maxVertexAttribs;++b){var c=q.currentContext.clientBuffers[b];if(c.clientside&&c.enabled){q.resetBufferBinding=!0;var d=q.calcBufLength(c.size,c.type,c.stride,a),f=q.getTempVertexBuffer(d);t.bindBuffer(34962,f);t.bufferSubData(34962,0,G.subarray(c.ptr,c.ptr+d));c.vertexAttribPointerAdaptor.call(t,b,c.size,
c.type,c.normalized,c.stride,0)}}},postDrawHandleClientVertexAttribBindings:function(){q.resetBufferBinding&&t.bindBuffer(34962,q.buffers[t.currentArrayBufferBinding])},createContext:function(a,b){a.getContextSafariWebGL2Fixed||(a.getContextSafariWebGL2Fixed=a.getContext,a.getContext=function(d,f){f=a.getContextSafariWebGL2Fixed(d,f);return"webgl"==d==f instanceof WebGLRenderingContext?f:null});var c=a.getContext("webgl2",b);return c?q.registerContext(c,b):0},registerContext:function(a,b){var c=q.getNewId(q.contexts),
d={handle:c,attributes:b,version:b.majorVersion,GLctx:a};a.canvas&&(a.canvas.GLctxObject=d);q.contexts[c]=d;("undefined"==typeof b.enableExtensionsByDefault||b.enableExtensionsByDefault)&&q.initExtensions(d);d.maxVertexAttribs=d.GLctx.getParameter(34921);d.clientBuffers=[];for(a=0;a<d.maxVertexAttribs;a++)d.clientBuffers[a]={enabled:!1,clientside:!1,size:0,type:0,normalized:0,stride:0,ptr:0,vertexAttribPointerAdaptor:null};q.generateTempBuffers(!1,d);return c},makeContextCurrent:function(a){q.currentContext=
q.contexts[a];g.ctx=t=q.currentContext&&q.currentContext.GLctx;return!(a&&!t)},getContext:function(a){return q.contexts[a]},deleteContext:function(a){q.currentContext===q.contexts[a]&&(q.currentContext=null);"object"==typeof JSEvents&&JSEvents.removeAllHandlersOnTarget(q.contexts[a].GLctx.canvas);q.contexts[a]&&q.contexts[a].GLctx.canvas&&(q.contexts[a].GLctx.canvas.GLctxObject=void 0);q.contexts[a]=null},initExtensions:function(a){a||(a=q.currentContext);if(!a.initExtensionsDone){a.initExtensionsDone=
!0;var b=a.GLctx;b.dibvbi=b.getExtension("WEBGL_draw_instanced_base_vertex_base_instance");b.mdibvbi=b.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance");2<=a.version&&(b.disjointTimerQueryExt=b.getExtension("EXT_disjoint_timer_query_webgl2"));if(2>a.version||!b.disjointTimerQueryExt)b.disjointTimerQueryExt=b.getExtension("EXT_disjoint_timer_query");b.multiDrawWebgl=b.getExtension("WEBGL_multi_draw");(b.getSupportedExtensions()||[]).forEach(function(c){c.includes("lose_context")||
c.includes("debug")||b.getExtension(c)})}}},Ib=[],k={WindowFromId:function(a){return 0>=a||!k.windows?null:k.windows[a-1]},joystickFunc:null,errorFunc:null,monitorFunc:null,active:null,windows:null,monitors:null,monitorString:null,versionString:null,initialTime:null,extensions:null,hints:null,defaultHints:{131073:0,131074:0,131075:1,131076:1,131077:1,135169:8,135170:8,135171:8,135172:8,135173:24,135174:8,135175:0,135176:0,135177:0,135178:0,135179:0,135180:0,135181:0,135182:0,135183:0,139265:196609,
139266:1,139267:0,139268:0,139269:0,139270:0,139271:0,139272:0},DOMToGLFWKeyCode:function(a){switch(a){case 32:return 32;case 222:return 39;case 188:return 44;case 173:return 45;case 189:return 45;case 190:return 46;case 191:return 47;case 48:return 48;case 49:return 49;case 50:return 50;case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 59:return 59;case 61:return 61;case 187:return 61;case 65:return 65;case 66:return 66;
case 67:return 67;case 68:return 68;case 69:return 69;case 70:return 70;case 71:return 71;case 72:return 72;case 73:return 73;case 74:return 74;case 75:return 75;case 76:return 76;case 77:return 77;case 78:return 78;case 79:return 79;case 80:return 80;case 81:return 81;case 82:return 82;case 83:return 83;case 84:return 84;case 85:return 85;case 86:return 86;case 87:return 87;case 88:return 88;case 89:return 89;case 90:return 90;case 219:return 91;case 220:return 92;case 221:return 93;case 192:return 96;
case 27:return 256;case 13:return 257;case 9:return 258;case 8:return 259;case 45:return 260;case 46:return 261;case 39:return 262;case 37:return 263;case 40:return 264;case 38:return 265;case 33:return 266;case 34:return 267;case 36:return 268;case 35:return 269;case 20:return 280;case 145:return 281;case 144:return 282;case 44:return 283;case 19:return 284;case 112:return 290;case 113:return 291;case 114:return 292;case 115:return 293;case 116:return 294;case 117:return 295;case 118:return 296;
case 119:return 297;case 120:return 298;case 121:return 299;case 122:return 300;case 123:return 301;case 124:return 302;case 125:return 303;case 126:return 304;case 127:return 305;case 128:return 306;case 129:return 307;case 130:return 308;case 131:return 309;case 132:return 310;case 133:return 311;case 134:return 312;case 135:return 313;case 136:return 314;case 96:return 320;case 97:return 321;case 98:return 322;case 99:return 323;case 100:return 324;case 101:return 325;case 102:return 326;case 103:return 327;
case 104:return 328;case 105:return 329;case 110:return 330;case 111:return 331;case 106:return 332;case 109:return 333;case 107:return 334;case 16:return 340;case 17:return 341;case 18:return 342;case 91:return 343;case 93:return 348;default:return-1}},getModBits:function(a){var b=0;a.keys[340]&&(b|=1);a.keys[341]&&(b|=2);a.keys[342]&&(b|=4);a.keys[343]&&(b|=8);return b},onKeyPress:function(a){k.active&&k.active.charFunc&&!a.ctrlKey&&!a.metaKey&&(a=a.charCode,0==a||0<=a&&31>=a||la.apply(null,[k.active.charFunc,
k.active.id,a]))},onKeyChanged:function(a,b){if(k.active){var c=k.DOMToGLFWKeyCode(a);if(-1!=c){var d=b&&k.active.keys[c];k.active.keys[c]=b;k.active.domKeys[a]=b;k.active.keyFunc&&(d&&(b=2),d=k.getModBits(k.active),Jb.apply(null,[k.active.keyFunc,k.active.id,c,a,b,d]))}}},onGamepadConnected:function(a){k.refreshJoysticks()},onGamepadDisconnected:function(a){k.refreshJoysticks()},onKeydown:function(a){k.onKeyChanged(a.keyCode,1);8!==a.keyCode&&9!==a.keyCode||a.preventDefault()},onKeyup:function(a){k.onKeyChanged(a.keyCode,
0)},onBlur:function(a){if(k.active)for(a=0;a<k.active.domKeys.length;++a)if(k.active.domKeys[a])k.onKeyChanged(a,0)},onMousemove:function(a){k.active&&(m.calculateMouseEvent(a),a.target==g.canvas&&k.active.cursorPosFunc&&bb.apply(null,[k.active.cursorPosFunc,k.active.id,m.mouseX,m.mouseY]))},DOMToGLFWMouseButton:function(a){a=a.button;0<a&&(a=1==a?2:1);return a},onMouseenter:function(a){k.active&&a.target==g.canvas&&k.active.cursorEnterFunc&&la.apply(null,[k.active.cursorEnterFunc,k.active.id,1])},
onMouseleave:function(a){k.active&&a.target==g.canvas&&k.active.cursorEnterFunc&&la.apply(null,[k.active.cursorEnterFunc,k.active.id,0])},onMouseButtonChanged:function(a,b){if(k.active&&(m.calculateMouseEvent(a),a.target==g.canvas)){var c=k.DOMToGLFWMouseButton(a);if(1==b){k.active.buttons|=1<<c;try{a.target.setCapture()}catch(d){}}else k.active.buttons&=~(1<<c);k.active.mouseButtonFunc&&(a=k.getModBits(k.active),Kb.apply(null,[k.active.mouseButtonFunc,k.active.id,c,b,a]))}},onMouseButtonDown:function(a){if(k.active)k.onMouseButtonChanged(a,
1)},onMouseButtonUp:function(a){if(k.active)k.onMouseButtonChanged(a,0)},onMouseWheel:function(a){var b=-m.getMouseWheelDelta(a);b=0==b?0:0<b?Math.max(b,1):Math.min(b,-1);k.wheelPos+=b;k.active&&k.active.scrollFunc&&a.target==g.canvas&&(bb.apply(null,[k.active.scrollFunc,k.active.id,"mousewheel"==a.type?a.wheelDeltaX:a.deltaX,b]),a.preventDefault())},onCanvasResize:function(a,b){if(k.active){var c=!0;document.fullscreen||document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?(k.active.storedX=
k.active.x,k.active.storedY=k.active.y,k.active.storedWidth=k.active.width,k.active.storedHeight=k.active.height,k.active.x=k.active.y=0,k.active.width=screen.width,k.active.height=screen.height,k.active.fullscreen=!0):1==k.active.fullscreen?(k.active.x=k.active.storedX,k.active.y=k.active.storedY,k.active.width=k.active.storedWidth,k.active.height=k.active.storedHeight,k.active.fullscreen=!1):k.active.width!=a||k.active.height!=b?(k.active.width=a,k.active.height=b):c=!1;c&&(m.setCanvasSize(k.active.width,
k.active.height,!0),k.onWindowSizeChanged(),k.onFramebufferSizeChanged())}},onWindowSizeChanged:function(){k.active&&k.active.windowSizeFunc&&ka(function(){ua.apply(null,[k.active.windowSizeFunc,k.active.id,k.active.width,k.active.height])})},onFramebufferSizeChanged:function(){k.active&&k.active.framebufferSizeFunc&&ka(function(){ua.apply(null,[k.active.framebufferSizeFunc,k.active.id,k.active.width,k.active.height])})},getTime:function(){return Xa()/1E3},setWindowTitle:function(a,b){if(a=k.WindowFromId(a))a.title=
R(b),k.active.id==a.id&&(document.title=a.title)},setJoystickCallback:function(a){k.joystickFunc=a;k.refreshJoysticks()},joys:{},lastGamepadState:[],lastGamepadStateFrame:null,refreshJoysticks:function(){if(m.mainLoop.currentFrameNumber!==k.lastGamepadStateFrame||!m.mainLoop.currentFrameNumber){k.lastGamepadState=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads:[];k.lastGamepadStateFrame=m.mainLoop.currentFrameNumber;for(var a=0;a<k.lastGamepadState.length;++a){var b=
k.lastGamepadState[a];if(b){k.joys[a]||(N("glfw joystick connected:",a),k.joys[a]={id:sb(b.id),buttonsCount:b.buttons.length,axesCount:b.axes.length,buttons:U(b.buttons.length),axes:U(4*b.axes.length)},k.joystickFunc&&la.apply(null,[k.joystickFunc,a,262145]));for(var c=k.joys[a],d=0;d<b.buttons.length;++d)I[c.buttons+d>>0]=b.buttons[d].pressed;for(d=0;d<b.axes.length;++d)da[c.axes+4*d>>2]=b.axes[d]}else k.joys[a]&&(N("glfw joystick disconnected",a),k.joystickFunc&&la.apply(null,[k.joystickFunc,a,
262146]),O(k.joys[a].id),O(k.joys[a].buttons),O(k.joys[a].axes),delete k.joys[a])}}},setKeyCallback:function(a,b){a=k.WindowFromId(a);if(!a)return null;var c=a.keyFunc;a.keyFunc=b;return c},setCharCallback:function(a,b){a=k.WindowFromId(a);if(!a)return null;var c=a.charFunc;a.charFunc=b;return c},setMouseButtonCallback:function(a,b){a=k.WindowFromId(a);if(!a)return null;var c=a.mouseButtonFunc;a.mouseButtonFunc=b;return c},setCursorPosCallback:function(a,b){a=k.WindowFromId(a);if(!a)return null;var c=
a.cursorPosFunc;a.cursorPosFunc=b;return c},setScrollCallback:function(a,b){a=k.WindowFromId(a);if(!a)return null;var c=a.scrollFunc;a.scrollFunc=b;return c},setDropCallback:function(a,b){a=k.WindowFromId(a);if(!a)return null;var c=a.dropFunc;a.dropFunc=b;return c},onDrop:function(a){function b(r){var u="/.glfw_dropped_files/"+r.name.replace(/\//g,"_"),p=new FileReader;p.onloadend=x=>{if(2!=p.readyState)++h,N("failed to read dropped file: "+r.name+": "+p.error);else if(e.writeFile(u,new Uint8Array(x.target.result)),
++h===f){ua.apply(null,[k.active.dropFunc,k.active.id,f,c]);for(x=0;x<d.length;++x)O(d[x]);O(c)}};p.readAsArrayBuffer(r);var w=sb(u);d.push(w);F[c+4*l>>2]=w}if(k.active&&k.active.dropFunc&&a.dataTransfer&&a.dataTransfer.files&&0!=a.dataTransfer.files.length){a.preventDefault();var c=U(4*a.dataTransfer.files.length),d=[],f=a.dataTransfer.files.length,h=0;e.createPath("/",".glfw_dropped_files");for(var l=0;l<f;++l)b(a.dataTransfer.files[l]);return!1}},onDragover:function(a){if(k.active&&k.active.dropFunc)return a.preventDefault(),
!1},setWindowSizeCallback:function(a,b){a=k.WindowFromId(a);if(!a)return null;var c=a.windowSizeFunc;a.windowSizeFunc=b;return c},setWindowCloseCallback:function(a,b){a=k.WindowFromId(a);if(!a)return null;var c=a.windowCloseFunc;a.windowCloseFunc=b;return c},setWindowRefreshCallback:function(a,b){a=k.WindowFromId(a);if(!a)return null;var c=a.windowRefreshFunc;a.windowRefreshFunc=b;return c},onClickRequestPointerLock:function(a){!m.pointerLock&&g.canvas.requestPointerLock&&(g.canvas.requestPointerLock(),
a.preventDefault())},setInputMode:function(a,b,c){if(a=k.WindowFromId(a))switch(b){case 208897:switch(c){case 212993:a.inputModes[b]=c;g.canvas.removeEventListener("click",k.onClickRequestPointerLock,!0);g.canvas.exitPointerLock();break;case 212994:N("glfwSetInputMode called with GLFW_CURSOR_HIDDEN value not implemented.");break;case 212995:a.inputModes[b]=c;g.canvas.addEventListener("click",k.onClickRequestPointerLock,!0);g.canvas.requestPointerLock();break;default:N("glfwSetInputMode called with unknown value parameter value: "+
c+".")}break;case 208898:N("glfwSetInputMode called with GLFW_STICKY_KEYS mode not implemented.");break;case 208899:N("glfwSetInputMode called with GLFW_STICKY_MOUSE_BUTTONS mode not implemented.");break;default:N("glfwSetInputMode called with unknown mode parameter value: "+b+".")}},getKey:function(a,b){return(a=k.WindowFromId(a))?a.keys[b]:0},getMouseButton:function(a,b){return(a=k.WindowFromId(a))?0<(a.buttons&1<<b):0},getCursorPos:function(a,b,c){xa[b>>3]=m.mouseX;xa[c>>3]=m.mouseY},getMousePos:function(a,
b,c){v[b>>2]=m.mouseX;v[c>>2]=m.mouseY},setCursorPos:function(a,b,c){},getWindowPos:function(a,b,c){var d=0,f=0;if(a=k.WindowFromId(a))d=a.x,f=a.y;b&&(v[b>>2]=d);c&&(v[c>>2]=f)},setWindowPos:function(a,b,c){if(a=k.WindowFromId(a))a.x=b,a.y=c},getWindowSize:function(a,b,c){var d=0,f=0;if(a=k.WindowFromId(a))d=a.width,f=a.height;b&&(v[b>>2]=d);c&&(v[c>>2]=f)},setWindowSize:function(a,b,c){if(a=k.WindowFromId(a))k.active.id==a.id&&(b==screen.width&&c==screen.height?m.requestFullscreen():(m.exitFullscreen(),
m.setCanvasSize(b,c),a.width=b,a.height=c)),a.windowSizeFunc&&ua.apply(null,[a.windowSizeFunc,a.id,b,c])},createWindow:function(a,b,c,d,f){var h;for(h=0;h<k.windows.length&&null!==k.windows[h];h++);if(0<h)throw"glfwCreateWindow only supports one window at time currently";var l=h+1;if(0>=a||0>=b)return 0;d?m.requestFullscreen():m.setCanvasSize(a,b);for(h=0;h<k.windows.length&&null==k.windows[h];h++);var r=0<k.hints[139265];h==k.windows.length&&(r?g.ctx=m.createContext(g.canvas,!0,!0,{antialias:1<k.hints[135181],
depth:0<k.hints[135173],stencil:0<k.hints[135174],alpha:0<k.hints[135172]}):m.init());if(!g.ctx&&r)return 0;a=new hc(l,a,b,c,d,f);l-1==k.windows.length?k.windows.push(a):k.windows[l-1]=a;k.active=a;return a.id},destroyWindow:function(a){if(a=k.WindowFromId(a)){a.windowCloseFunc&&Lb.apply(null,[a.windowCloseFunc,a.id]);k.windows[a.id-1]=null;k.active.id==a.id&&(k.active=null);for(a=0;a<k.windows.length;a++)if(null!==k.windows[a])return;g.ctx=m.destroyContext(g.canvas,!0,!0)}},swapBuffers:function(a){},
GLFW2ParamToGLFW3Param:function(a){return{196609:0,196610:0,196611:0,196612:0,196613:0,196614:0,131073:0,131074:0,131075:0,131076:0,131077:135169,131078:135170,131079:135171,131080:135172,131081:135173,131082:135174,131083:135183,131084:135175,131085:135176,131086:135177,131087:135178,131088:135179,131089:135180,131090:0,131091:135181,131092:139266,131093:139267,131094:139270,131095:139271,131096:139272}[a]}},tb=[31,29,31,30,31,30,31,31,30,31,30,31],ub=[31,28,31,30,31,30,31,31,30,31,30,31],z={State:{Normal:0,
Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId:function(a){var b=z.callStackNameToId[a];void 0===b&&(b=z.callStackId++,z.callStackNameToId[a]=b,z.callStackIdToName[b]=a);return b},instrumentWasmImports:function(a){var b="env.invoke_* env.emscripten_sleep env.emscripten_wget env.emscripten_wget_data env.emscripten_idb_load env.emscripten_idb_store env.emscripten_idb_delete env.emscripten_idb_exists env.emscripten_idb_load_blob env.emscripten_idb_store_blob env.SDL_Delay env.emscripten_scan_registers env.emscripten_lazy_load_code env.emscripten_fiber_swap wasi_snapshot_preview1.fd_sync env.__wasi_fd_sync env._emval_await env._dlopen_js env.__asyncjs__*".split(" ").map(d=>
d.split(".")[1]),c;for(c in a)(function(d){"function"==typeof a[d]&&(0<=b.indexOf(d)||d.startsWith("__asyncjs__"))})(c)},instrumentWasmExports:function(a){var b={},c;for(c in a)(function(d){var f=a[d];b[d]="function"==typeof f?function(){z.exportCallStack.push(d);try{return f.apply(null,arguments)}finally{X||(z.exportCallStack.pop()!==d&&M(void 0),z.maybeStopUnwind())}}:f})(c);return b},maybeStopUnwind:function(){z.currData&&z.state===z.State.Unwinding&&0===z.exportCallStack.length&&(z.state=z.State.Normal,
Ka(Mb),"undefined"!=typeof Fibers&&Fibers.trampoline())},whenDone:function(){return new Promise((a,b)=>{z.asyncPromiseHandlers={resolve:a,reject:b}})},allocateData:function(){var a=U(12+z.StackSize);z.setDataHeader(a,a+12,z.StackSize);z.setDataRewindFunc(a);return a},setDataHeader:function(a,b,c){v[a>>2]=b;v[a+4>>2]=b+c},setDataRewindFunc:function(a){var b=z.getCallStackId(z.exportCallStack[0]);v[a+8>>2]=b},getDataRewindFunc:function(a){return g.asm[z.callStackIdToName[v[a+8>>2]]]},doRewind:function(a){return z.getDataRewindFunc(a)()},
handleSleep:function(a){if(!X){if(z.state===z.State.Normal){var b=!1,c=!1;a(d=>{if(!X&&(z.handleSleepReturnValue=d||0,b=!0,c)){z.state=z.State.Rewinding;Ka(()=>Nb(z.currData));"undefined"!=typeof m&&m.mainLoop.func&&m.mainLoop.resume();d=!1;try{var f=z.doRewind(z.currData)}catch(r){f=r,d=!0}var h=!1;if(!z.currData){var l=z.asyncPromiseHandlers;l&&(z.asyncPromiseHandlers=null,(d?l.reject:l.resolve)(f),h=!0)}if(d&&!h)throw f;}});c=!0;b||(z.state=z.State.Unwinding,z.currData=z.allocateData(),"undefined"!=
typeof m&&m.mainLoop.func&&m.mainLoop.pause(),Ka(()=>Ob(z.currData)))}else z.state===z.State.Rewinding?(z.state=z.State.Normal,Ka(Pb),O(z.currData),z.currData=null,z.sleepCallbacks.forEach(d=>ka(d))):M("invalid state: "+z.state);return z.handleSleepReturnValue}},handleAsync:function(a){return z.handleSleep(b=>{a().then(b)})}},Qb=function(a,b,c,d){a||=this;this.parent=a;this.mount=a.mount;this.mounted=null;this.id=e.nextInode++;this.name=b;this.mode=c;this.node_ops={};this.stream_ops={};this.rdev=
d};Object.defineProperties(Qb.prototype,{read:{get:function(){return 365===(this.mode&365)},set:function(a){a?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(this.mode&146)},set:function(a){a?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return e.isDir(this.mode)}},isDevice:{get:function(){return e.isChrdev(this.mode)}}});e.FSNode=Qb;e.staticInit();g.FS_createPath=e.createPath;g.FS_createDataFile=e.createDataFile;g.FS_createPreloadedFile=e.createPreloadedFile;g.FS_unlink=
e.unlink;g.FS_createLazyFile=e.createLazyFile;g.FS_createDevice=e.createDevice;(function(){for(var a=Array(256),b=0;256>b;++b)a[b]=String.fromCharCode(b);kb=a})();mb=g.BindingError=lb(Error,"BindingError");g.InternalError=lb(Error,"InternalError");g.count_emval_handles=function(){for(var a=0,b=5;b<V.length;++b)void 0!==V[b]&&++a;return a};g.get_first_emval=function(){for(var a=5;a<V.length;++a)if(void 0!==V[a])return V[a];return null};g.requestFullscreen=function(a,b){m.requestFullscreen(a,b)};g.requestAnimationFrame=
function(a){m.requestAnimationFrame(a)};g.setCanvasSize=function(a,b,c){m.setCanvasSize(a,b,c)};g.pauseMainLoop=function(){m.mainLoop.pause()};g.resumeMainLoop=function(){m.mainLoop.resume()};g.getUserMedia=function(){m.getUserMedia()};g.createContext=function(a,b,c,d){return m.createContext(a,b,c,d)};for(var t,cb=0;32>cb;++cb)Ib.push(Array(cb));var mc={B:function(a,b,c){return z.handleAsync(async()=>{a=R(a);c=R(c);b=R(b);PrettyConsole[a](b,c)})},b:function(a){return U(a+24)+24},a:function(a,b,c){(new Vb(a)).init(b,
c);kc++;throw a;},pa:function(a,b,c){J.varargs=c;try{var d=J.getStreamFromFD(a);switch(b){case 0:var f=J.get();return 0>f?-28:e.createStream(d,f).fd;case 1:case 2:return 0;case 3:return d.flags;case 4:return f=J.get(),d.flags|=f,0;case 5:return f=J.get(),Z[f+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return v[Rb()>>2]=28,-1;default:return-28}}catch(h){if("undefined"==typeof e||!(h instanceof e.ErrnoError))throw h;return-h.errno}},kb:function(a,b,c){J.varargs=c;try{var d=J.getStreamFromFD(a);
switch(b){case 21509:case 21505:return d.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return d.tty?0:-59;case 21519:if(!d.tty)return-59;var f=J.get();return v[f>>2]=0;case 21520:return d.tty?-28:-59;case 21531:return f=J.get(),e.ioctl(d,b,f);case 21523:return d.tty?0:-59;case 21524:return d.tty?0:-59;default:M("bad ioctl syscall "+b)}}catch(h){if("undefined"==typeof e||!(h instanceof e.ErrnoError))throw h;return-h.errno}},jb:function(a,b,c,d){J.varargs=d;try{b=J.getStr(b);
b=J.calculateAt(a,b);var f=d?J.get():0;return e.open(b,c,f).fd}catch(h){if("undefined"==typeof e||!(h instanceof e.ErrnoError))throw h;return-h.errno}},ra:function(a,b,c,d,f){},eb:function(a,b,c,d,f){var h=Ta(c);b=aa(b);ba(a,{name:b,fromWireType:function(l){return!!l},toWireType:function(l,r){return r?d:f},argPackAdvance:8,readValueFromPointer:function(l){if(1===c)var r=I;else if(2===c)r=Z;else if(4===c)r=v;else throw new TypeError("Unknown boolean type size: "+b);return this.fromWireType(r[l>>h])},
destructorFunction:null})},db:function(a,b){b=aa(b);ba(a,{name:b,fromWireType:function(c){var d=Hb.toValue(c);4<c&&0===--V[c].refcount&&(V[c]=void 0,ab.push(c));return d},toWireType:function(c,d){return Hb.toHandle(d)},argPackAdvance:8,readValueFromPointer:Va,destructorFunction:null})},na:function(a,b,c){c=Ta(c);b=aa(b);ba(a,{name:b,fromWireType:function(d){return d},toWireType:function(d,f){return f},argPackAdvance:8,readValueFromPointer:Zb(b,c),destructorFunction:null})},k:function(a,b,c,d,f){b=
aa(b);-1===f&&(f=4294967295);f=Ta(c);var h=r=>r;if(0===d){var l=32-8*c;h=r=>r<<l>>>l}c=b.includes("unsigned")?function(r,u){return u>>>0}:function(r,u){return u};ba(a,{name:b,fromWireType:h,toWireType:c,argPackAdvance:8,readValueFromPointer:$b(b,f,0!==d),destructorFunction:null})},d:function(a,b,c){function d(h){h>>=2;var l=F;return new f(wa,l[h+1],l[h])}var f=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][b];c=aa(c);ba(a,{name:c,fromWireType:d,argPackAdvance:8,
readValueFromPointer:d},{ignoreDuplicateRegistrations:!0})},ma:function(a,b){b=aa(b);var c="std::string"===b;ba(a,{name:b,fromWireType:function(d){var f=F[d>>2],h=d+4;if(c)for(var l=h,r=0;r<=f;++r){var u=h+r;if(r==f||0==G[u]){l=R(l,u-l);if(void 0===p)var p=l;else p+=String.fromCharCode(0),p+=l;l=u+1}}else{p=Array(f);for(r=0;r<f;++r)p[r]=String.fromCharCode(G[h+r]);p=p.join("")}O(d);return p},toWireType:function(d,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var h="string"==typeof f;h||f instanceof
Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array||ja("Cannot pass non-string to std::string");var l=c&&h?na(f):f.length;var r=U(4+l+1),u=r+4;F[r>>2]=l;if(c&&h)W(f,G,u,l+1);else if(h)for(h=0;h<l;++h){var p=f.charCodeAt(h);255<p&&(O(u),ja("String has UTF-16 code units that do not fit in 8 bits"));G[u+h]=p}else for(h=0;h<l;++h)G[u+h]=f[h];null!==d&&d.push(O,r);return r},argPackAdvance:8,readValueFromPointer:Va,destructorFunction:function(d){O(d)}})},M:function(a,b,c){c=aa(c);if(2===
b){var d=ac;var f=bc;var h=cc;var l=()=>oa;var r=1}else 4===b&&(d=dc,f=ec,h=fc,l=()=>F,r=2);ba(a,{name:c,fromWireType:function(u){for(var p=F[u>>2],w=l(),x,A=u+4,n=0;n<=p;++n){var y=u+4+n*b;if(n==p||0==w[y>>r])A=d(A,y-A),void 0===x?x=A:(x+=String.fromCharCode(0),x+=A),A=y+b}O(u);return x},toWireType:function(u,p){"string"!=typeof p&&ja("Cannot pass non-string to C++ string type "+c);var w=h(p),x=U(4+w+b);F[x>>2]=w>>r;f(p,x+4,w+b);null!==u&&u.push(O,x);return x},argPackAdvance:8,readValueFromPointer:Va,
destructorFunction:function(u){O(u)}})},cb:function(a,b){b=aa(b);ba(a,{isVoid:!0,name:b,argPackAdvance:0,fromWireType:function(){},toWireType:function(c,d){}})},la:function(){M("")},bb:function(a,b,c){G.copyWithin(a,b,b+c)},ka:function(){m.mainLoop.pause()},L:function(a){var b=G.length;a>>>=0;if(2147483648<a)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,a+100663296);var f=Math;d=Math.max(a,d);f=f.min.call(f,2147483648,d+(65536-d%65536)%65536);a:{try{Pa.grow(f-wa.byteLength+65535>>>
16);eb(Pa.buffer);var h=1;break a}catch(l){}h=void 0}if(h)return!0}return!1},ab:function(){m.mainLoop.resume()},$a:function(a,b,c){pb(function(){Sb.call(null,a)},b,c)},ib:function(a,b){var c=0;ta().forEach(function(d,f){var h=b+c;f=F[a+4*f>>2]=h;for(h=0;h<d.length;++h)I[f++>>0]=d.charCodeAt(h);I[f>>0]=0;c+=d.length+1});return 0},hb:function(a,b){var c=ta();F[a>>2]=c.length;var d=0;c.forEach(function(f){d+=f.length+1});F[b>>2]=d;return 0},oa:function(a){try{var b=J.getStreamFromFD(a);e.close(b);return 0}catch(c){if("undefined"==
typeof e||!(c instanceof e.ErrnoError))throw c;return c.errno}},gb:function(a,b,c,d){try{a:{var f=J.getStreamFromFD(a);a=b;for(var h=b=0;h<c;h++){var l=F[a>>2],r=F[a+4>>2];a+=8;var u=e.read(f,I,l,r,void 0);if(0>u){var p=-1;break a}b+=u;if(u<r)break}p=b}v[d>>2]=p;return 0}catch(w){if("undefined"==typeof e||!(w instanceof e.ErrnoError))throw w;return w.errno}},sa:function(a,b,c,d,f){try{b=c+2097152>>>0<4194305-!!b?(b>>>0)+4294967296*c:NaN;if(isNaN(b))return 61;var h=J.getStreamFromFD(a);e.llseek(h,
b,d);K=[h.position>>>0,(C=h.position,1<=+Math.abs(C)?0<C?(Math.min(+Math.floor(C/4294967296),4294967295)|0)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)];v[f>>2]=K[0];v[f+4>>2]=K[1];h.getdents&&0===b&&0===d&&(h.getdents=null);return 0}catch(l){if("undefined"==typeof e||!(l instanceof e.ErrnoError))throw l;return l.errno}},fb:function(a,b,c,d){try{a:{var f=J.getStreamFromFD(a);a=b;for(var h=b=0;h<c;h++){var l=F[a>>2],r=F[a+4>>2];a+=8;var u=e.write(f,I,l,r,void 0);if(0>u){var p=-1;break a}b+=
u}p=b}F[d>>2]=p;return 0}catch(w){if("undefined"==typeof e||!(w instanceof e.ErrnoError))throw w;return w.errno}},_a:Fa,A:function(a){t.activeTexture(a)},z:function(a,b){t.attachShader(q.programs[a],q.shaders[b])},h:function(a,b){34962==a?t.currentArrayBufferBinding=b:34963==a&&(t.currentElementArrayBufferBinding=b);35051==a?t.currentPixelPackBufferBinding=b:35052==a&&(t.currentPixelUnpackBufferBinding=b);t.bindBuffer(a,q.buffers[b])},y:function(a,b){t.bindFramebuffer(a,q.framebuffers[b])},j:function(a,
b){t.bindTexture(a,q.textures[b])},p:function(a){t.bindVertexArray(q.vaos[a]);a=t.getParameter(34965);t.currentElementArrayBufferBinding=a?a.name|0:0},Za:function(a){t.blendEquation(a)},Ya:function(a,b){t.blendEquationSeparate(a,b)},Xa:function(a,b){t.blendFunc(a,b)},ja:function(a,b,c,d){t.blendFuncSeparate(a,b,c,d)},l:function(a,b,c,d){c&&b?t.bufferData(a,G,d,c,b):t.bufferData(a,b,d)},ia:function(a,b,c,d){c&&t.bufferSubData(a,b,G,d,c)},Wa:function(a){return t.checkFramebufferStatus(a)},ha:function(a){t.clear(a)},
Va:function(a,b,c,d){t.clearColor(a,b,c,d)},K:function(a){t.compileShader(q.shaders[a])},ga:function(){var a=q.getNewId(q.programs),b=t.createProgram();b.name=a;b.maxUniformLength=b.maxAttributeLength=b.maxUniformBlockNameLength=0;b.uniformIdCounter=1;q.programs[a]=b;return a},J:function(a){var b=q.getNewId(q.shaders);q.shaders[b]=t.createShader(a);return b},Ua:function(a,b){for(var c=0;c<a;c++){var d=v[b+4*c>>2],f=q.buffers[d];f&&(t.deleteBuffer(f),f.name=0,q.buffers[d]=null,d==t.currentArrayBufferBinding&&
(t.currentArrayBufferBinding=0),d==t.currentElementArrayBufferBinding&&(t.currentElementArrayBufferBinding=0),d==t.currentPixelPackBufferBinding&&(t.currentPixelPackBufferBinding=0),d==t.currentPixelUnpackBufferBinding&&(t.currentPixelUnpackBufferBinding=0))}},fa:function(a,b){for(var c=0;c<a;++c){var d=v[b+4*c>>2],f=q.framebuffers[d];f&&(t.deleteFramebuffer(f),f.name=0,q.framebuffers[d]=null)}},ea:function(a){if(a){var b=q.programs[a];b?(t.deleteProgram(b),b.name=0,q.programs[a]=null):q.recordError(1281)}},
x:function(a){if(a){var b=q.shaders[a];b?(t.deleteShader(b),q.shaders[a]=null):q.recordError(1281)}},w:function(a,b){for(var c=0;c<a;c++){var d=v[b+4*c>>2],f=q.textures[d];f&&(t.deleteTexture(f),f.name=0,q.textures[d]=null)}},da:function(a,b){for(var c=0;c<a;c++){var d=v[b+4*c>>2];t.deleteVertexArray(q.vaos[d]);q.vaos[d]=null}},ca:function(a,b){t.detachShader(q.programs[a],q.shaders[b])},g:function(a){t.disable(a)},v:function(a,b){for(var c=Ib[a],d=0;d<a;d++)c[d]=v[b+4*d>>2];t.drawBuffers(c)},ba:function(a,
b,c,d){if(!t.currentElementArrayBufferBinding){var f=q.calcBufLength(1,c,0,b);var h=q.getTempIndexBuffer(f);t.bindBuffer(34963,h);t.bufferSubData(34963,0,G.subarray(d,d+f));d=0}q.preDrawHandleClientVertexAttribBindings(b);t.drawElements(a,b,c,d);q.postDrawHandleClientVertexAttribBindings(b);t.currentElementArrayBufferBinding||t.bindBuffer(34963,null)},aa:function(a,b,c,d,f){t.drawElementsInstanced(a,b,c,d,f)},f:function(a){t.enable(a)},u:function(a){q.currentContext.clientBuffers[a].enabled=!0;t.enableVertexAttribArray(a)},
$:function(a,b,c,d,f){t.framebufferTexture2D(a,b,c,q.textures[d],f)},o:function(a,b){Ga(a,b,"createBuffer",q.buffers)},Ta:function(a,b){Ga(a,b,"createFramebuffer",q.framebuffers)},_:function(a,b){Ga(a,b,"createTexture",q.textures)},Z:function(a,b){Ga(a,b,"createVertexArray",q.vaos)},Sa:function(a,b,c,d,f,h,l){a=q.programs[a];if(b=t.getActiveUniform(a,b))c=l&&W(b.name,G,l,c),d&&(v[d>>2]=c),f&&(v[f>>2]=b.size),h&&(v[h>>2]=b.type)},I:function(a,b){return t.getAttribLocation(q.programs[a],R(b))},c:function(a,
b){gc(a,b,0)},Y:function(a,b,c,d){a=t.getProgramInfoLog(q.programs[a]);null===a&&(a="(unknown error)");b=0<b&&d?W(a,G,d,b):0;c&&(v[c>>2]=b)},n:function(a,b,c){if(c)if(a>=q.counter)q.recordError(1281);else if(a=q.programs[a],35716==b)a=t.getProgramInfoLog(a),null===a&&(a="(unknown error)"),v[c>>2]=a.length+1;else if(35719==b){if(!a.maxUniformLength)for(b=0;b<t.getProgramParameter(a,35718);++b)a.maxUniformLength=Math.max(a.maxUniformLength,t.getActiveUniform(a,b).name.length+1);v[c>>2]=a.maxUniformLength}else if(35722==
b){if(!a.maxAttributeLength)for(b=0;b<t.getProgramParameter(a,35721);++b)a.maxAttributeLength=Math.max(a.maxAttributeLength,t.getActiveAttrib(a,b).name.length+1);v[c>>2]=a.maxAttributeLength}else if(35381==b){if(!a.maxUniformBlockNameLength)for(b=0;b<t.getProgramParameter(a,35382);++b)a.maxUniformBlockNameLength=Math.max(a.maxUniformBlockNameLength,t.getActiveUniformBlockName(a,b).length+1);v[c>>2]=a.maxUniformBlockNameLength}else v[c>>2]=t.getProgramParameter(a,b);else q.recordError(1281)},X:function(a,
b,c,d){a=t.getShaderInfoLog(q.shaders[a]);null===a&&(a="(unknown error)");b=0<b&&d?W(a,G,d,b):0;c&&(v[c>>2]=b)},t:function(a,b,c){c?35716==b?(a=t.getShaderInfoLog(q.shaders[a]),null===a&&(a="(unknown error)"),v[c>>2]=a?a.length+1:0):35720==b?(a=t.getShaderSource(q.shaders[a]),v[c>>2]=a?a.length+1:0):v[c>>2]=t.getShaderParameter(q.shaders[a],b):q.recordError(1281)},H:function(a){var b=q.stringCache[a];if(!b){switch(a){case 7939:b=t.getSupportedExtensions()||[];b=b.concat(b.map(function(d){return"GL_"+
d}));b=Ha(b.join(" "));break;case 7936:case 7937:case 37445:case 37446:(b=t.getParameter(a))||q.recordError(1280);b=b&&Ha(b);break;case 7938:b=t.getParameter(7938);b=Ha("OpenGL ES 3.0 ("+b+")");break;case 35724:b=t.getParameter(35724);var c=b.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==c&&(3==c[1].length&&(c[1]+="0"),b="OpenGL ES GLSL ES "+c[1]+" ("+b+")");b=Ha(b);break;default:q.recordError(1280)}q.stringCache[a]=b}return b},G:function(a,b){b=R(b);if(a=q.programs[a]){var c=a,d=c.uniformLocsById,
f=c.uniformSizeAndIdsByName,h;if(!d)for(c.uniformLocsById=d={},c.uniformArrayNamesById={},h=0;h<t.getProgramParameter(c,35718);++h){var l=t.getActiveUniform(c,h);var r=l.name;l=l.size;var u=rb(r);u=0<u?r.slice(0,u):r;var p=c.uniformIdCounter;c.uniformIdCounter+=l;f[u]=[l,p];for(r=0;r<l;++r)d[p]=r,c.uniformArrayNamesById[p++]=u}c=a.uniformLocsById;d=0;f=b;h=rb(b);0<h&&(d=parseInt(b.slice(h+1))>>>0,f=b.slice(0,h));if((f=a.uniformSizeAndIdsByName[f])&&d<f[0]&&(d+=f[1],c[d]=c[d]||t.getUniformLocation(a,
b)))return d}else q.recordError(1281);return-1},m:function(a){return t.isEnabled(a)},W:function(a){a=q.programs[a];t.linkProgram(a);a.uniformLocsById=0;a.uniformSizeAndIdsByName={}},V:function(a,b,c,d){t.scissor(a,b,c,d)},F:function(a,b,c,d){b=q.getSource(a,b,c,d);t.shaderSource(q.shaders[a],b)},U:function(a,b,c,d,f,h,l,r,u){if(t.currentPixelUnpackBufferBinding)t.texImage2D(a,b,c,d,f,h,l,r,u);else if(u){var p=r-5120;p=0==p?I:1==p?G:2==p?Z:4==p?v:6==p?da:5==p||28922==p||28520==p||30779==p||30782==
p?F:oa;t.texImage2D(a,b,c,d,f,h,l,r,p,u>>31-Math.clz32(p.BYTES_PER_ELEMENT))}else t.texImage2D(a,b,c,d,f,h,l,r,null)},e:function(a,b,c){t.texParameteri(a,b,c)},Ra:function(a,b,c,d,f){t.texStorage2D(a,b,c,d,f)},T:function(a,b){t.uniform1i(Ia(a),b)},Qa:function(a,b,c,d){t.uniform3f(Ia(a),b,c,d)},Pa:function(a,b,c,d,f){t.uniform4f(Ia(a),b,c,d,f)},S:function(a,b,c,d){b&&t.uniformMatrix4fv(Ia(a),!!c,da,d>>2,16*b)},E:function(a){a=q.programs[a];t.useProgram(a);t.currentProgram=a},s:function(a,b){t.vertexAttribDivisor(a,
b)},r:function(a,b,c,d,f,h){var l=q.currentContext.clientBuffers[a];t.currentArrayBufferBinding?(l.clientside=!1,t.vertexAttribPointer(a,b,c,!!d,f,h)):(l.size=b,l.type=c,l.normalized=d,l.stride=f,l.ptr=h,l.clientside=!0,l.vertexAttribPointerAdaptor=function(r,u,p,w,x,A){this.vertexAttribPointer(r,u,p,w,x,A)})},D:function(a,b,c,d){t.viewport(a,b,c,d)},i:function(a){},Oa:function(a,b,c,d,f){return k.createWindow(a,b,c,d,f)},Na:function(a){return k.destroyWindow(a)},Ma:function(a){},La:function(a,b,
c){k.getCursorPos(a,b,c)},Ka:function(a,b,c){var d=0,f=0;if(a=k.WindowFromId(a))d=a.width,f=a.height;b&&(v[b>>2]=d);c&&(v[c>>2]=f)},Ja:function(a,b){if(a=k.WindowFromId(a)){switch(b){case 208897:a.inputModes[b]=m.pointerLock?212995:212993}return a.inputModes[b]}},Ia:function(a,b){k.refreshJoysticks();if((a=k.joys[a])&&a.axes)return v[b>>2]=a.axesCount,a.axes;v[b>>2]=0},Ha:function(a,b){k.refreshJoysticks();if((a=k.joys[a])&&a.buttons)return v[b>>2]=a.buttonsCount,a.buttons;v[b>>2]=0},R:function(){return k.getTime()-
k.initialTime},Ga:function(a,b,c){k.getWindowSize(a,b,c)},Fa:function(){if(k.windows)return 1;k.initialTime=k.getTime();k.hints=k.defaultHints;k.windows=[];k.active=null;window.addEventListener("gamepadconnected",k.onGamepadConnected,!0);window.addEventListener("gamepaddisconnected",k.onGamepadDisconnected,!0);window.addEventListener("keydown",k.onKeydown,!0);window.addEventListener("keypress",k.onKeyPress,!0);window.addEventListener("keyup",k.onKeyup,!0);window.addEventListener("blur",k.onBlur,!0);
g.canvas.addEventListener("touchmove",k.onMousemove,!0);g.canvas.addEventListener("touchstart",k.onMouseButtonDown,!0);g.canvas.addEventListener("touchcancel",k.onMouseButtonUp,!0);g.canvas.addEventListener("touchend",k.onMouseButtonUp,!0);g.canvas.addEventListener("mousemove",k.onMousemove,!0);g.canvas.addEventListener("mousedown",k.onMouseButtonDown,!0);g.canvas.addEventListener("mouseup",k.onMouseButtonUp,!0);g.canvas.addEventListener("wheel",k.onMouseWheel,!0);g.canvas.addEventListener("mousewheel",
k.onMouseWheel,!0);g.canvas.addEventListener("mouseenter",k.onMouseenter,!0);g.canvas.addEventListener("mouseleave",k.onMouseleave,!0);g.canvas.addEventListener("drop",k.onDrop,!0);g.canvas.addEventListener("dragover",k.onDragover,!0);m.resizeListeners.push(function(a,b){k.onCanvasResize(a,b)});return 1},Ea:function(a){},Da:function(){},Ca:function(a,b){return k.setCharCallback(a,b)},Ba:function(a,b){},Aa:function(a,b){},za:function(a,b){a=k.WindowFromId(a);if(!a)return null;var c=a.cursorEnterFunc;
a.cursorEnterFunc=b;return c},ya:function(a,b,c){k.setCursorPos(a,b,c)},Q:function(a,b){return k.setCursorPosCallback(a,b)},C:function(a){var b=k.errorFunc;k.errorFunc=a;return b},P:function(a,b,c){k.setInputMode(a,b,c)},O:function(a,b){return k.setKeyCallback(a,b)},xa:function(a){var b=k.monitorFunc;k.monitorFunc=a;return b},N:function(a,b){return k.setMouseButtonCallback(a,b)},wa:function(a,b){return k.setScrollCallback(a,b)},va:function(a,b){a=k.WindowFromId(a);if(!a)return null;var c=a.windowFocusFunc;
a.windowFocusFunc=b;return c},ua:function(a){k.swapBuffers(a)},ta:function(){window.removeEventListener("gamepadconnected",k.onGamepadConnected,!0);window.removeEventListener("gamepaddisconnected",k.onGamepadDisconnected,!0);window.removeEventListener("keydown",k.onKeydown,!0);window.removeEventListener("keypress",k.onKeyPress,!0);window.removeEventListener("keyup",k.onKeyup,!0);window.removeEventListener("blur",k.onBlur,!0);g.canvas.removeEventListener("touchmove",k.onMousemove,!0);g.canvas.removeEventListener("touchstart",
k.onMouseButtonDown,!0);g.canvas.removeEventListener("touchcancel",k.onMouseButtonUp,!0);g.canvas.removeEventListener("touchend",k.onMouseButtonUp,!0);g.canvas.removeEventListener("mousemove",k.onMousemove,!0);g.canvas.removeEventListener("mousedown",k.onMouseButtonDown,!0);g.canvas.removeEventListener("mouseup",k.onMouseButtonUp,!0);g.canvas.removeEventListener("wheel",k.onMouseWheel,!0);g.canvas.removeEventListener("mousewheel",k.onMouseWheel,!0);g.canvas.removeEventListener("mouseenter",k.onMouseenter,
!0);g.canvas.removeEventListener("mouseleave",k.onMouseleave,!0);g.canvas.removeEventListener("drop",k.onDrop,!0);g.canvas.removeEventListener("dragover",k.onDragover,!0);g.canvas.width=g.canvas.height=1;k.windows=null;k.active=null},q:function(a,b){k.hints[a]=b},qa:function(a,b,c,d){return ic(a,b,c,d)}};(function(){function a(h,l){h=h.exports;h=z.instrumentWasmExports(h);g.asm=h;Pa=g.asm.lb;eb(Pa.buffer);zb.unshift(g.asm.mb);pa("wasm-instantiate")}function b(h){a(h.instance)}function c(h){return Ub().then(function(l){return WebAssembly.instantiate(l,
d)}).then(function(l){return l}).then(h,function(l){L("failed to asynchronously prepare wasm: "+l);M(l)})}var d={a:mc};ya("wasm-instantiate");if(g.instantiateWasm)try{var f=g.instantiateWasm(d,a);return f=z.instrumentWasmExports(f)}catch(h){return L("Module.instantiateWasm callback failed with error: "+h),!1}(function(){return ra||"function"!=typeof WebAssembly.instantiateStreaming||P.startsWith("data:application/octet-stream;base64,")||P.startsWith("file://")||ia||"function"!=typeof fetch?c(b):fetch(P,
{credentials:"same-origin"}).then(function(h){return WebAssembly.instantiateStreaming(h,d).then(b,function(l){L("wasm streaming compile failed: "+l);L("falling back to ArrayBuffer instantiation");return c(b)})})})().catch(Ra);return{}})();g.___wasm_call_ctors=function(){return(g.___wasm_call_ctors=g.asm.mb).apply(null,arguments)};var O=g._free=function(){return(O=g._free=g.asm.ob).apply(null,arguments)},Rb=g.___errno_location=function(){return(Rb=g.___errno_location=g.asm.pb).apply(null,arguments)},
U=g._malloc=function(){return(U=g._malloc=g.asm.qb).apply(null,arguments)};g._app_set_dimensions=function(){return(g._app_set_dimensions=g.asm.rb).apply(null,arguments)};g._app_set_lock=function(){return(g._app_set_lock=g.asm.sb).apply(null,arguments)};g._app_save_config=function(){return(g._app_save_config=g.asm.tb).apply(null,arguments)};g._app_restore_config=function(){return(g._app_restore_config=g.asm.ub).apply(null,arguments)};g._app_toggle_render_gui=function(){return(g._app_toggle_render_gui=
g.asm.vb).apply(null,arguments)};g._audio_upload_data=function(){return(g._audio_upload_data=g.asm.wb).apply(null,arguments)};g._audio_data_ready=function(){return(g._audio_data_ready=g.asm.xb).apply(null,arguments)};g._audio_set_max_decibels=function(){return(g._audio_set_max_decibels=g.asm.yb).apply(null,arguments)};g._run=function(){return(g._run=g.asm.zb).apply(null,arguments)};g._shutdown=function(){return(g._shutdown=g.asm.Ab).apply(null,arguments)};g._main=function(){return(g._main=g.asm.Bb).apply(null,
arguments)};g.___getTypeName=function(){return(g.___getTypeName=g.asm.Cb).apply(null,arguments)};g.___embind_register_native_and_builtin_types=function(){return(g.___embind_register_native_and_builtin_types=g.asm.Db).apply(null,arguments)};var xb=g.stackSave=function(){return(xb=g.stackSave=g.asm.Eb).apply(null,arguments)},wb=g.stackRestore=function(){return(wb=g.stackRestore=g.asm.Fb).apply(null,arguments)},$a=g.stackAlloc=function(){return($a=g.stackAlloc=g.asm.Gb).apply(null,arguments)},ib=g.___cxa_is_pointer_type=
function(){return(ib=g.___cxa_is_pointer_type=g.asm.Hb).apply(null,arguments)},Lb=g.dynCall_vi=function(){return(Lb=g.dynCall_vi=g.asm.Ib).apply(null,arguments)},la=g.dynCall_vii=function(){return(la=g.dynCall_vii=g.asm.Jb).apply(null,arguments)},ua=g.dynCall_viii=function(){return(ua=g.dynCall_viii=g.asm.Kb).apply(null,arguments)},Jb=g.dynCall_viiiii=function(){return(Jb=g.dynCall_viiiii=g.asm.Lb).apply(null,arguments)},bb=g.dynCall_vidd=function(){return(bb=g.dynCall_vidd=g.asm.Mb).apply(null,arguments)},
Kb=g.dynCall_viiii=function(){return(Kb=g.dynCall_viiii=g.asm.Nb).apply(null,arguments)},Sb=g.dynCall_v=function(){return(Sb=g.dynCall_v=g.asm.Ob).apply(null,arguments)},Ob=g._asyncify_start_unwind=function(){return(Ob=g._asyncify_start_unwind=g.asm.Pb).apply(null,arguments)},Mb=g._asyncify_stop_unwind=function(){return(Mb=g._asyncify_stop_unwind=g.asm.Qb).apply(null,arguments)},Nb=g._asyncify_start_rewind=function(){return(Nb=g._asyncify_start_rewind=g.asm.Rb).apply(null,arguments)},Pb=g._asyncify_stop_rewind=
function(){return(Pb=g._asyncify_stop_rewind=g.asm.Sb).apply(null,arguments)};g.addRunDependency=ya;g.removeRunDependency=pa;g.FS_createPath=e.createPath;g.FS_createDataFile=e.createDataFile;g.FS_createPreloadedFile=e.createPreloadedFile;g.FS_createLazyFile=e.createLazyFile;g.FS_createDevice=e.createDevice;g.FS_unlink=e.unlink;g.ccall=vb;g.cwrap=function(a,b,c,d){c=c||[];var f=c.every(h=>"number"===h);return"string"!==b&&f&&!d?g["_"+a]:function(){return vb(a,b,c,arguments,d)}};g.FS=e;var La;qa=function b(){La||
yb();La||(qa=b)};if(g.preInit)for("function"==typeof g.preInit&&(g.preInit=[g.preInit]);0<g.preInit.length;)g.preInit.pop()();var Bb=!0;g.noInitialRun&&(Bb=!1);yb();return ma.ready}})();"object"===typeof exports&&"object"===typeof module?module.exports=TuneZ:"function"===typeof define&&define.amd?define([],function(){return TuneZ}):"object"===typeof exports&&(exports.TuneZ=TuneZ);
